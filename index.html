<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 6.0.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-我的第一篇博客" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/02/11/%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2/" class="article-date">
  <time class="dt-published" datetime="2022-02-11T03:17:19.000Z" itemprop="datePublished">2022-02-11</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/02/11/%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2/">我的第一篇博客</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="Vue"><a href="#Vue" class="headerlink" title="Vue"></a>Vue</h1><h2 id="第一章、Vue核心"><a href="#第一章、Vue核心" class="headerlink" title="第一章、Vue核心"></a>第一章、Vue核心</h2><h3 id="1-1-初始Vue"><a href="#1-1-初始Vue" class="headerlink" title="1.1 初始Vue"></a>1.1 初始Vue</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span>HelloWorld<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;./js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="comment">&lt;!--一个容器--&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">h1</span>&gt;</span>hello, &#123;&#123;name&#125;&#125;, &#123;&#123;name.toUpperCase()&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">	  <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span> <span class="comment">//阻止产生生产提示</span></span></span><br><span class="line"><span class="language-javascript">	  <span class="comment">//创建Vue实例</span></span></span><br><span class="line"><span class="language-javascript">	  <span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">		  <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>, <span class="comment">//el用于指定当前Vue实例为哪个容器服务，值通常为css选择器字符串</span></span></span><br><span class="line"><span class="language-javascript">		  <span class="attr">data</span>: &#123;       <span class="comment">//data中用于存储数据，数据拱el所指定的容器使用，值暂时先写成一个对象</span></span></span><br><span class="line"><span class="language-javascript">		  	<span class="attr">name</span>: <span class="string">&#x27;zhangsan&#x27;</span></span></span><br><span class="line"><span class="language-javascript">		  &#125;</span></span><br><span class="line"><span class="language-javascript">	  &#125;)</span></span><br><span class="line"><span class="language-javascript">	</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>​    1.想让<code>Vue</code>工作，就必须创建一个<code>Vue</code>实例，且要传入一个配置对象；</p>
<p>​    2.<code>root</code>容器里的代码依然符合 html 规范，只不过混入了一些特殊的<code>Vue</code>语法；</p>
<p>​    3.<code>root</code>容器里的代码被称为【<code>Vue模板</code>】；</p>
<p>​    4.<code>Vue</code>实例和容器是<strong>一一对应</strong>的；</p>
<p>​    5.真实开发中只有一个<code>Vue</code>实例，并且会配合着组件一起使用；</p>
<p>​    6.<code>&#123;&#123;xxx&#125;&#125;</code>中的 xxx 要写<code>js表达式</code>，且 xxx 可以自动读取到<code>data</code>中的<strong>所有属性</strong>；</p>
<p>​    7.一旦 data 中的数据发生改变，那么页面中用到该数据的地方也会自动更新；</p>
<blockquote>
<p>​        注意区分：<strong>js表达式</strong> 和 <strong>js代码(语句)</strong></p>
<p>​            1.表达式：一个表达式会产生一个值，可以放在任何一个需要值的地方：</p>
<p>​                  (1). a</p>
<p>​                  (2). a+b</p>
<p>​                  (3). demo(1)</p>
<p>​                  (4). x &#x3D;&#x3D;&#x3D; y ? ‘a’ : ‘b’</p>
<p>​            2.js代码(语句)</p>
<p>​                  (1). if() {}</p>
<p>​                  (2). for() {}</p>
</blockquote>
<h3 id="1-2-模板语法"><a href="#1-2-模板语法" class="headerlink" title="1.2 模板语法"></a>1.2 模板语法</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Vue<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;./js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--准备好一个容器--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>插值语法：标签体内容<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>hello, &#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">hr</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>指令语法：标签属性<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">v-bind:href</span>=<span class="string">&quot;search.url&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span>&gt;</span>点我百度<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">v-bind:href</span>=<span class="string">&quot;search.url&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span>&gt;</span>点我&#123;&#123;search.name.toUpperCase()&#125;&#125;搜索1<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">:href</span>=<span class="string">&quot;search.url&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span>&gt;</span>点我&#123;&#123;name&#125;&#125;搜索2<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span>; <span class="comment">//阻止产生生产提示</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">data</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">name</span>:<span class="string">&#x27;zjx&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">search</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">name</span>:<span class="string">&#x27;百度&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">url</span>:<span class="string">&#x27;https://www.baidu.com&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><code>Vue</code>模板语法有2大类：</p>
<p>​          1.<strong>插值语法</strong>：</p>
<p>​              功能：<strong>用于解析标签体内容</strong>。</p>
<p>​              写法：<code>&#123;&#123;xxx&#125;&#125;</code>，xxx 是 js 表达式，且可以直接读取到 data 中的所有属性。</p>
<p>​          2.<strong>指令语法</strong>：</p>
<p>​              功能：用于<strong>解析标签</strong>（包括：标签属性、标签体内容、绑定事件…..）。</p>
<p>​              举例：<code>v-bind:href=&quot;xxx&quot;</code> 或  简写为 <code>:href=&quot;xxx&quot;</code>，xxx 同样要写 js 表达式，且可以直接读取到data中的所有属性。</p>
<blockquote>
<p>备注：Vue 中有很多的指令，且形式都是：v-xxx，此处我们只是拿 v-bind 举个例子。</p>
</blockquote>
<h3 id="1-3-数据绑定"><a href="#1-3-数据绑定" class="headerlink" title="1.3 数据绑定"></a>1.3 数据绑定</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Vue<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;./js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--准备好一个容器--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>hello, &#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    单向绑定：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-bind:value</span>=<span class="string">&quot;name&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    双向绑定：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model:value</span>=<span class="string">&quot;name&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    简写：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;name&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span>; <span class="comment">//阻止产生生产提示</span></span></span><br><span class="line"><span class="language-javascript">    </span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> v = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">data</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>);</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">name</span>:<span class="string">&#x27;afasdfat342421&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>Vue中有2种数据绑定的方式：</p>
<p>​          1.单向绑定(<code>v-bind</code>)：数据只能从<code>data</code>流向页面。</p>
<p>​          2.双向绑定(<code>v-model</code>)：数据不仅能从<code>data</code>流向页面，还可以从页面流向<code>data</code>。</p>
<blockquote>
<p>备注：</p>
<p>​       1.双向绑定一般都应用在<strong>表单类</strong>元素上（如：input、select等）</p>
<p>​        2.<code>v-model:value</code> 可以简写为 <code>v-model</code>，因为 v-model 默认收集的就是 value值。 </p>
</blockquote>
<h3 id="1-4-el-amp-data的两种写法"><a href="#1-4-el-amp-data的两种写法" class="headerlink" title="1.4 el&amp;data的两种写法"></a>1.4 el&amp;data的两种写法</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*el的两种写法*/</span></span><br><span class="line"><span class="comment">//1</span></span><br><span class="line"><span class="keyword">let</span> v = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>,</span><br><span class="line">    <span class="attr">data</span>:&#123;</span><br><span class="line">        <span class="attr">name</span>:<span class="string">&#x27;奥地利发掘的&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//2</span></span><br><span class="line"><span class="keyword">let</span> v = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">data</span>:&#123;</span><br><span class="line">        <span class="attr">name</span>:<span class="string">&#x27;奥地利发掘的&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line">v.$mount(<span class="string">&#x27;#root&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/*data的两种写法*/</span></span><br><span class="line"><span class="keyword">let</span> v = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>,</span><br><span class="line">    <span class="comment">/*data:&#123; 组件式</span></span><br><span class="line"><span class="comment">            name:&#x27;zhangsan&#x27;</span></span><br><span class="line"><span class="comment">        &#125;*/</span></span><br><span class="line">    <span class="comment">//函数式：且不能写箭头函数</span></span><br><span class="line">    <span class="title function_">data</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>);</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            <span class="attr">name</span>:<span class="string">&#x27;zhangsan&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><code>data</code>与<code>el</code>的2种写法</p>
<p>​          1.<code>el</code>有2种写法</p>
<p>​                  (1).<code>new Vue</code>时候配置 el 属性。</p>
<p>​                  (2).先创建<code>Vue</code>实例，随后再通过<code>vm.$mount(&#39;#root&#39;)</code>指定<code>el</code>的值。</p>
<p>​          2.<code>data</code>有2种写法</p>
<p>​                  (1).对象式</p>
<p>​                  (2).函数式</p>
<blockquote>
<p> 如何选择：目前哪种写法都可以，以后学习到组件时，<strong>data必须使用函数式</strong>，否则会报错。</p>
</blockquote>
<p>​          3.一个重要的原则：</p>
<p>​                  由<code>Vue</code>管理的函数，<strong>一定不要写箭头函数</strong>，一旦写了箭头函数，<code>this</code>就不再是<code>Vue</code>实例了。</p>
<h3 id="1-5-MVVM模型"><a href="#1-5-MVVM模型" class="headerlink" title="1.5 MVVM模型"></a>1.5 MVVM模型</h3><img src="https://gitee.com/jxgitee/pictures/raw/master/img/202111281912263.png" alt="image-20211128191234156" style="zoom:50%;" />



<img src="https://gitee.com/jxgitee/pictures/raw/master/img/202111281916135.png" alt="image-20211128191653063" style="zoom:50%;" />



<p>MVVM模型</p>
<p>​            1. M：模型(<code>Model</code>) ：<code>data</code>中的数据</p>
<p>​            2. V：视图(<code>View</code>) ：模板代码</p>
<p>​            3. VM：视图模型(<code>ViewModel</code>)：<code>Vue</code>实例</p>
<p>​      观察发现：</p>
<p>​            1.<code>data</code>中所有的属性，最后都出现在了<code>vm</code>身上。</p>
<p>​            2.<code>vm</code>身上所有的属性 及 <code>Vue</code>原型上所有属性，在<code>Vue</code>模板中都可以直接使用。</p>
<h3 id="1-6-Object-defineProperty"><a href="#1-6-Object-defineProperty" class="headerlink" title="1.6 Object.defineProperty()"></a>1.6 Object.defineProperty()</h3><p><code>Object.defineProperty()</code>的作用就是直接在一个对象上定义一个新属性，或者修改一个已经存在的属性</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(obj, prop, desc)</span><br></pre></td></tr></table></figure>

<ol>
<li><code>obj</code> 需要定义属性的当前对象</li>
<li><code>prop</code> 当前需要定义的属性名</li>
<li><code>desc</code> 属性描述符</li>
</ol>
<p>通过 Object.defineProperty() 为对象定义属性，有两种形式，且不能混合使用，分别为<strong>数据描述符</strong>，<strong>存取描述符</strong>。</p>
<p><strong>数据描述符</strong> –特有的两个属性（value, <code>writable</code>）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="title class_">Person</span> = &#123;&#125;</span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(<span class="title class_">Person</span>, <span class="string">&#x27;name&#x27;</span>, &#123;</span><br><span class="line">   <span class="attr">value</span>: <span class="string">&#x27;jack&#x27;</span>,</span><br><span class="line">   <span class="attr">writable</span>: <span class="literal">true</span> <span class="comment">// 控制属性是否可以改变</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>注意，如果描述符中的某些属性被省略，会使用以下默认规则：</p>
<p><img src="https://upload-images.jianshu.io/upload_images/5016475-9cd41a36735b667d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp"></p>
<p><strong>存取描述符</strong> –是由一对 getter、setter 函数功能来描述的属性</p>
<p><code>get</code>：一个给属性提供<code>getter</code>的方法，如果没有<code>getter</code>则为<code>undefined</code>。该方法返回值被用作属性值。默认为<code>undefined</code>。<br> <code>set</code>：一个给属性提供<code>setter</code>的方法，如果没有<code>setter</code>则为<code>undefined</code>。该方法将接受唯一参数，并将该参数的新值分配给该属性。默认值为<code>undefined</code>。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="title class_">Person</span> = &#123;&#125;</span><br><span class="line"><span class="keyword">let</span> temp = <span class="literal">null</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(<span class="title class_">Person</span>, <span class="string">&#x27;name&#x27;</span>, &#123;</span><br><span class="line">  <span class="attr">get</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123; </span><br><span class="line">      <span class="comment">//当调用person的name属性时，get函数（getter）就会被调用，</span></span><br><span class="line">      <span class="comment">//且返回值就是name的值 当temp改变时，读取name时值也改变</span></span><br><span class="line">    <span class="keyword">return</span> temp</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">set</span>: <span class="keyword">function</span> (<span class="params">val</span>) &#123;</span><br><span class="line">    temp = val </span><br><span class="line">      <span class="comment">//当给吧name的值即person.name = val时，</span></span><br><span class="line">      <span class="comment">//set函数（setter）就会被调用，temp的值也将发生改变</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><strong>数据描述符</strong>和<strong>存取描述</strong>均具有以下描述符</p>
<ol>
<li><code>configrable</code> 描述属性是否配置，以及可否删除</li>
<li><code>enumerable</code> 描述属性是否会出现在<code>for in</code> 或者 <code>Object.keys()</code>的遍历中</li>
</ol>
<blockquote>
<p><code>configurable</code>: <code>false</code> 时，不能删除当前属性，且不能重新配置当前属性的描述符(有一个小小的意外：可以把writable的状态由true改为false,但是无法由false改为true),但是在writable: true的情况下，可以改变value的值</p>
<p><code>configurable</code>: <code>true</code>时，可以删除当前属性，可以配置当前属性所有描述符。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">        <span class="attr">name</span>:<span class="string">&#x27;adfa&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(person, <span class="string">&#x27;age&#x27;</span>, &#123;</span><br><span class="line">        <span class="attr">value</span>:<span class="number">18</span>,</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(person);</span><br><span class="line">    <span class="comment">/*age默认无法枚举 enumerable=false*/</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> item <span class="keyword">in</span> person) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;#&#x27;</span>, item) <span class="comment">//#name</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">keys</span>(person)) <span class="comment">//[&#x27;name&#x27;]</span></span><br></pre></td></tr></table></figure>





<h3 id="1-7-数据代理"><a href="#1-7-数据代理" class="headerlink" title="1.7 数据代理"></a>1.7 数据代理</h3><blockquote>
<p>数据代理：通过一个对象代理对另一个对象中属性的操作（读&#x2F;写）。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">&quot;text/javascript&quot;</span>&gt;   <span class="keyword">let</span> obj1 = &#123;      <span class="attr">x</span>: <span class="number">100</span>   &#125;   <span class="keyword">let</span> obj2 = &#123;      <span class="attr">y</span>: <span class="number">200</span>   &#125;   <span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(obj2, <span class="string">&#x27;x&#x27;</span>, &#123;      <span class="title function_">get</span>(<span class="params"></span>) &#123;         <span class="keyword">return</span> obj1.<span class="property">x</span>      &#125;,      <span class="title function_">set</span>(<span class="params">value</span>) &#123;         obj1.<span class="property">x</span> = value      &#125;   &#125;)   <span class="variable language_">console</span>.<span class="title function_">log</span>(obj2.<span class="property">x</span>) <span class="comment">//100   obj2.x = 200   console.log(obj1.x) //200&lt;/script&gt;</span></span><br></pre></td></tr></table></figure>

<img src="https://gitee.com/jxgitee/pictures/raw/master/img/202111282004027.png" alt="image-20211128200433953" style="zoom:50%;" />

<p>1.<code>Vue</code>中的数据代理：</p>
<p>​              通过<code>vm</code>对象来代理<code>data</code>对象中属性的操作（读&#x2F;写）</p>
<p> 2.<code>Vue</code>中数据代理的好处：</p>
<p>​              更加方便的操作<code>data</code>中的数据</p>
<p>3.基本原理：</p>
<p>​              通过<code>Object.defineProperty()</code>把<code>data</code>对象中所有属性添加到<code>vm</code>上。</p>
<p>​              为每一个添加到<code>vm</code>上的属性，都指定一个<code>getter/setter</code>。</p>
<p>​              在<code>getter/setter</code>内部去操作（读&#x2F;写）<code>data</code>中对应的属性。</p>
<img src="https://gitee.com/jxgitee/pictures/raw/master/img/202111282016557.png" alt="image-20211128201610439" style="zoom:80%;" />



<h3 id="1-8-事件的基本使用"><a href="#1-8-事件的基本使用" class="headerlink" title="1.8 事件的基本使用"></a>1.8 事件的基本使用</h3><p>事件的基本使用：</p>
<p>​              1.使用<code>v-on:xxx</code> 或 <code>@xxx</code> 绑定事件，其中 xxx 是事件名；</p>
<p>​              2.事件的回调需要配置在<code>methods</code>对象中，最终会在<code>vm</code>上；</p>
<p>​              3.<code>methods</code>中配置的函数，<strong>不要用箭头函数！</strong>否则<code>this</code>就不是<code>vm</code>了；</p>
<p>​              4.<code>methods</code>中配置的函数，都是被<code>Vue</code>所管理的函数，<code>this</code>的指向是<code>vm</code> 或 <strong>组件实例对象</strong>；</p>
<p>​              5.<code>@click=&quot;demo&quot;</code> 和 <code>@click=&quot;demo($event)&quot;</code> 效果一致，但后者可以传参；</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">head</span>&gt;</span>    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span>    <span class="tag">&lt;<span class="name">title</span>&gt;</span>事件处理<span class="tag">&lt;/<span class="name">title</span>&gt;</span>    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;./js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span><span class="tag">&lt;/<span class="name">head</span>&gt;</span><span class="tag">&lt;<span class="name">body</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span>    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>欢迎，&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span>    <span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:click</span>=<span class="string">&quot;showInfo1&quot;</span>&gt;</span>点我1<span class="tag">&lt;/<span class="name">button</span>&gt;</span>    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;showInfo1&quot;</span>&gt;</span>点我2<span class="tag">&lt;/<span class="name">button</span>&gt;</span>    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;showInfo2($event, 66)&quot;</span>&gt;</span>点我3<span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript">    <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span>;    <span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;        <span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>,        <span class="title function_">data</span>(<span class="params"></span>)&#123;            <span class="keyword">return</span> &#123;                <span class="attr">name</span>:<span class="string">&#x27;张三&#x27;</span>,            &#125;        &#125;,        <span class="attr">methods</span>: &#123;            <span class="title function_">showInfo1</span>(<span class="params">event</span>) &#123;                <span class="variable language_">console</span>.<span class="title function_">log</span>(event.<span class="property">target</span>)<span class="comment">//&lt;button&gt;点我1&lt;/button&gt;                console.log(event.target.innerText)//点我1                console.log(this) //Vue                console.log(this === vm)//true                alert(&#x27;你好！&#x27;);            &#125;,            showInfo2(event, number) &#123;                console.log(event);                console.log(number);            &#125;        &#125;    &#125;);</span></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span><span class="tag">&lt;/<span class="name">body</span>&gt;</span><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h3 id="1-9-事件修饰符"><a href="#1-9-事件修饰符" class="headerlink" title="1.9 事件修饰符"></a>1.9 事件修饰符</h3><p>Vue中的事件修饰符：</p>
<p>​            1.<code>prevent</code>：阻止默认事件（<strong>常用</strong>）；</p>
<p>​            2.<code>stop</code>：阻止事件冒泡（<strong>常用</strong>）；</p>
<p>​            3.<code>once</code>：事件只触发一次（<strong>常用</strong>）；</p>
<p>​            4.<code>capture</code>：使用事件的捕获模式；</p>
<p>​            5.<code>self</code>：只有event.target是当前操作的元素时才触发事件；</p>
<p>​            6.<code>passive</code>：事件的默认行为立即执行，无需等待事件回调执行完毕；</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span>    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>欢迎，&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span>    <span class="comment">&lt;!--阻止默认事件（常用）--&gt;</span>    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://www.baidu.com&quot;</span> @<span class="attr">click.prevent</span>=<span class="string">&quot;showInfo&quot;</span>&gt;</span>点我1<span class="tag">&lt;/<span class="name">a</span>&gt;</span> <span class="comment">&lt;!--showInfo之后不跳转到链接--&gt;</span>    <span class="comment">&lt;!--阻止事件冒泡（常用）--&gt;</span>    <span class="tag">&lt;<span class="name">div</span> @<span class="attr">click</span>=<span class="string">&quot;showInfo&quot;</span>&gt;</span>        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click.stop</span>=<span class="string">&quot;showInfo&quot;</span>&gt;</span>点我2<span class="tag">&lt;/<span class="name">button</span>&gt;</span> <span class="comment">&lt;!--只调用里面的showInfo，不冒泡--&gt;</span>    <span class="tag">&lt;/<span class="name">div</span>&gt;</span>    <span class="comment">&lt;!--事件只能触发一次--&gt;</span>    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click.once</span>=<span class="string">&quot;showInfo&quot;</span>&gt;</span>点我3<span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript">    <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span>;    <span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;        <span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>,        <span class="title function_">data</span>(<span class="params"></span>)&#123;            <span class="keyword">return</span> &#123;                <span class="attr">name</span>:<span class="string">&#x27;张三&#x27;</span>,            &#125;        &#125;,        <span class="attr">methods</span>: &#123;            <span class="title function_">showInfo</span>(<span class="params"></span>) &#123;                <span class="title function_">alert</span>(<span class="string">&quot;hello&quot;</span>);            &#125;        &#125;    &#125;);</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h3 id="2-0-键盘事件"><a href="#2-0-键盘事件" class="headerlink" title="2.0 键盘事件"></a>2.0 键盘事件</h3><blockquote>
<p>1.<code>Vue</code>中常用的按键别名：</p>
<p>​              回车 &#x3D;&gt; enter</p>
<p>​              删除 &#x3D;&gt; delete (捕获“删除”和“退格”键)</p>
<p>​              退出 &#x3D;&gt; esc</p>
<p>​              空格 &#x3D;&gt; space</p>
<p>​              换行 &#x3D;&gt; tab (特殊，必须配合keydown去使用)</p>
<p>​              上 &#x3D;&gt; up</p>
<p>​              下 &#x3D;&gt; down</p>
<p>​              左 &#x3D;&gt; left</p>
<p>​              右 &#x3D;&gt; right</p>
</blockquote>
<p>​        2.<code>Vue</code>未提供别名的按键，可以使用按键原始的key值去绑定，但注意要转为<strong>kebab-case</strong>（短横线命名）（如<code>caps-lock</code>）</p>
<p>​        3.系统修饰键（用法特殊）：<code>ctrl</code>、<code>alt</code>、<code>shift</code>、<code>meta</code></p>
<blockquote>
<p>​    meta 在windows中为win键，macos中为command.</p>
</blockquote>
<p>​              (1).配合<code>keyup</code>使用：按下修饰键的同时，<strong>再按下其他键</strong>，<strong>随后释放其他键</strong>，事件才被触发。</p>
<p>​              (2).配合<code>keydown</code>使用：正常触发事件。</p>
<p>​        4.也可以使用keyCode去指定具体的按键（不推荐）</p>
<p>​        5.<code>Vue.config.keyCodes.自定义键名 = 键码</code>，可以去定制按键别名</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span>   <span class="tag">&lt;<span class="name">h1</span>&gt;</span>欢迎，&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span>   <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;请输入姓名&quot;</span> @<span class="attr">keyup.enter</span>=<span class="string">&quot;showInfo&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span>   <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;请输入姓名&quot;</span> @<span class="attr">keyup.caps-lock</span>=<span class="string">&quot;showInfo&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span>   <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;请输入姓名&quot;</span> @<span class="attr">keydown.tab</span>=<span class="string">&quot;showInfo&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span>   <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;请输入姓名&quot;</span> @<span class="attr">keyup.tab</span>=<span class="string">&quot;showInfo&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="comment">&lt;!--无效--&gt;</span>   <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;请输入姓名&quot;</span> @<span class="attr">keydown.ctrl</span>=<span class="string">&quot;showInfo&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span>   <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;请输入姓名&quot;</span> @<span class="attr">keyup.ctrl</span>=<span class="string">&quot;showInfo&quot;</span>&gt;</span>   <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;请输入姓名&quot;</span> @<span class="attr">keyup.hello</span>=<span class="string">&quot;showInfo&quot;</span>&gt;</span>    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;请输入姓名&quot;</span> @<span class="attr">keyup.ctrl.y</span>=<span class="string">&quot;showInfo&quot;</span>&gt;</span><span class="comment">&lt;!--按下ctrl+y才能触发--&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript">   <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span>   <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">keyCodes</span>.<span class="property">hello</span> = <span class="number">13</span> <span class="comment">//取别名   const vm = new Vue(&#123;       el: &#x27;#root&#x27;,       data() &#123;           return &#123;              name: &#x27;zhangsan&#x27;           &#125;       &#125;,      methods: &#123;          showInfo(e) &#123;             //if(e.keyCode != 13) return             console.log(e.key, e.keyCode)             console.log(&#x27;hello!&#x27;, e.target.value)          &#125;      &#125;   &#125;)</span></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h3 id="2-1-计算属性"><a href="#2-1-计算属性" class="headerlink" title="2.1 计算属性"></a>2.1 计算属性</h3><p>计算属性：</p>
<p>​          1.定义：要用的属性不存在，要通过<strong>已有属性</strong>计算得来。</p>
<p>​          2.原理：底层借助了<code>Objcet.defineproperty</code>方法提供的<code>getter</code>和<code>setter</code>。</p>
<p>​          3.<code>get</code>函数什么时候执行？</p>
<p>​                (1).<strong>初次读取</strong>时会执行一次。</p>
<p>​                (2).当依赖的<strong>数据发生改变</strong>时会被再次调用。</p>
<p>​          4.优势：与<code>methods</code>实现相比，内部有缓存机制（复用），效率更高，调试方便。</p>
<p>​          5.备注：</p>
<p>​              1.计算属性最终会出现在vm上，<em><strong>直接读取</strong></em>使用即可。</p>
<p>​              2.如果计算属性要被<strong>修改</strong>，那必须写<code>set</code>函数去响应修改，且<code>set</code>中要引起计算时依赖的数据发生改变。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span>   姓：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;firstName&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span>   名：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;lastName&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span>   姓名：<span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123;fullName&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript">   <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span>   <span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;      <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,      <span class="title function_">data</span>(<span class="params"></span>) &#123;         <span class="keyword">return</span> &#123;            <span class="attr">firstName</span>: <span class="string">&#x27;Zhang&#x27;</span>,            <span class="attr">lastName</span>: <span class="string">&#x27;San&#x27;</span>,         &#125;      &#125;,      <span class="attr">computed</span>: &#123;         <span class="attr">fullName</span>: &#123;            <span class="title function_">get</span>(<span class="params"></span>) &#123;<span class="comment">//1.初次读取时被调用 2.所依赖的数据发生变化时被调用               console.log(&#x27;get被调用了&#x27;)               return this.firstName + &#x27;-&#x27; + this.lastName            &#125;,            set(value) &#123;//vm.fullName=&#x27;li-si&#x27; 修改fullName时被调用               console.log(&#x27;set被调用了&#x27;)               const arr = value.split(&#x27;-&#x27;)               this.firstName = arr[0]               this.lastName = arr[1]            &#125;         &#125;      &#125;   &#125;)</span></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>确定只有<code>get</code>时，可以<strong>简写</strong>：调用时仍然为<code>&#123;&#123;fullName&#125;&#125;</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">fullName</span>(<span class="params"></span>) &#123;	<span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">firstName</span> + <span class="string">&#x27;-&#x27;</span> + <span class="variable language_">this</span>.<span class="property">lastName</span>&#125;</span><br></pre></td></tr></table></figure>



<h3 id="2-2-监视属性"><a href="#2-2-监视属性" class="headerlink" title="2.2 监视属性"></a>2.2 监视属性</h3><p>监视属性<code>watch</code>：</p>
<p>​          1.当被监视的属性变化时, 回调函数自动调用, 进行相关操作</p>
<p>​          2.监视的属性必须存在，才能进行监视！！</p>
<p>​          3.监视的两种写法：</p>
<p>​              (1).<code>new Vue</code>时传入<code>watch</code>配置</p>
<p>​              (2).通过<code>vm.$watch</code>监视</p>
<blockquote>
<p>配置immediate:true, 初始化时即被监视</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span>   <span class="tag">&lt;<span class="name">h1</span>&gt;</span>天气&#123;&#123;info&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span>   <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;changeWeather&quot;</span>&gt;</span>点击切换<span class="tag">&lt;/<span class="name">button</span>&gt;</span>   <span class="comment">&lt;!--      &lt;button @click=&quot;isHot = !isHot&quot;&gt;点击切换&lt;/button&gt;--&gt;</span>   <span class="comment">&lt;!--可以写一些简单语句--&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript">   <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span>   <span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;      <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,      <span class="title function_">data</span>(<span class="params"></span>) &#123;         <span class="keyword">return</span> &#123;            <span class="attr">isHot</span>: <span class="literal">true</span>         &#125;      &#125;,      <span class="attr">computed</span>: &#123;         <span class="title function_">info</span>(<span class="params"></span>) &#123;            <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">isHot</span> ? <span class="string">&#x27;炎热&#x27;</span> : <span class="string">&#x27;凉爽&#x27;</span>         &#125;      &#125;,      <span class="attr">methods</span>: &#123;         <span class="title function_">changeWeather</span>(<span class="params"></span>) &#123;            <span class="variable language_">this</span>.<span class="property">isHot</span> = !<span class="variable language_">this</span>.<span class="property">isHot</span>         &#125;      &#125;,      <span class="comment">//方法一      watch: &#123;         isHot: &#123; //info也能被监视            immediate:true,//初始化时让handler调用一下            //当isHot值改变时调用            handler(a, b) &#123;               console.log(&#x27;isHot被修改了&#x27;, a, b)            &#125;         &#125;      &#125;   &#125;)   //方法二   vm.$watch(&#x27;isHot&#x27;, &#123;      immediate:true,//初始化时让handler调用一下      handler(next, pre) &#123;         console.log(&#x27;isHot被修改了&#x27;, next, pre)      &#125;   &#125;)</span></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h3 id="2-3-深度监视"><a href="#2-3-深度监视" class="headerlink" title="2.3 深度监视"></a>2.3 深度监视</h3><p>深度监视：</p>
<p>​            (1).Vue中的<code>watch</code><strong>默认不监测</strong>对象内部值的改变（一层）。</p>
<p>​            (2).配置<code>deep:true</code>可以监测对象内部值改变（多层）。</p>
<p>​        备注：</p>
<p>​            (1).Vue自身可以监测对象内部值的改变，但Vue提供的<code>watch</code>默认不可以！</p>
<p>​            (2).使用<code>watch</code>时根据数据的具体结构，决定是否采用深度监视。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span>   <span class="tag">&lt;<span class="name">h1</span>&gt;</span>天气&#123;&#123;info&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span>   <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;changeWeather&quot;</span>&gt;</span>点击切换天气<span class="tag">&lt;/<span class="name">button</span>&gt;</span>   <span class="tag">&lt;<span class="name">hr</span>&gt;</span>   <span class="tag">&lt;<span class="name">h1</span>&gt;</span>a的值为&#123;&#123;numbers.a&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span>   <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;numbers.a++&quot;</span>&gt;</span>点我a++<span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript">   <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span>   <span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;      <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,      <span class="title function_">data</span>(<span class="params"></span>) &#123;         <span class="keyword">return</span> &#123;            <span class="attr">isHot</span>: <span class="literal">true</span>,               <span class="attr">numbers</span>: &#123;               	  <span class="attr">a</span>: <span class="number">1</span>,                  <span class="attr">b</span>: <span class="number">2</span>,                  <span class="attr">c</span>: &#123;                      <span class="attr">d</span>: &#123;                          <span class="attr">e</span>: <span class="number">1000</span> <span class="comment">//开启了深度监视后，当e值改变也能被监视到                      &#125;                  &#125;               &#125;         &#125;      &#125;,      computed: &#123;         info() &#123;            return this.isHot ? &#x27;凉爽&#x27;: &#x27;炎热&#x27;         &#125;      &#125;,      methods: &#123;         changeWeather() &#123;            this.isHot = !this.isHot         &#125;      &#125;,      watch: &#123;         isHot: &#123;            handler(next, pre) &#123;               console.log(&#x27;isHot被修改了&#x27;, next, pre)            &#125;         &#125;,         &#x27;numbers.a&#x27;: &#123;            handler(next, pre) &#123;               console.log(&#x27;numbers.a被修改了&#x27;, next, pre)            &#125;         &#125;,         numbers: &#123;            deep: true,//深度监视内部值的改变            handler(next, pre) &#123;               console.log(&#x27;numbers被修改了&#x27;, next, pre)            &#125;         &#125;      &#125;   &#125;)</span></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>当监视配置项只有<code>handler()</code>配置时才能使用<strong>简写</strong>：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//简写1isHot(next, pre) &#123;    console.log(&#x27;isHot被修改了&#x27;, next, pre)&#125;//简写2vm.$watch(&#x27;isHot&#x27;, function(next, pre) &#123;    console.log(&#x27;isHot被修改了&#x27;, next, pre)&#125;)</span></span><br></pre></td></tr></table></figure>



<h3 id="2-4-计算和监视的区别"><a href="#2-4-计算和监视的区别" class="headerlink" title="2.4 计算和监视的区别"></a>2.4 计算和监视的区别</h3><p><code>computed</code>和<code>watch</code>之间的区别：</p>
<p>​            1.<code>computed</code>能完成的功能，<code>watch</code>都可以完成。</p>
<p>​            2.<code>watch</code>能完成的功能，<code>computed</code>不一定能完成，例如：<code>watch</code>可以进行异步操作。</p>
<p>​        两个重要的小原则：</p>
<p>​              1.所被<code>Vue</code>管理的函数，最好写成普通函数，这样<code>this</code>的指向才是<code>vm</code> 或 组件实例对象。</p>
<p>​              2.所有不被<code>Vue</code>所管理的函数（<strong>定时器</strong>的回调函数、<strong>ajax</strong>的回调函数等、<strong>Promise</strong>的回调函数），最好写成箭头函数，</p>
<p>​                这样<code>this</code>的指向才是<code>vm</code> 或 组件实例对象。</p>
<blockquote>
<p>总之，都是为了使函数内部的<code>this</code>永远指向<code>vm</code>。</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span>   姓：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;firstName&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span>   名：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;lastName&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span>   姓名：<span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123;fullName&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript">   <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span>   <span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;       <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,       <span class="title function_">data</span>(<span class="params"></span>) &#123;           <span class="keyword">return</span> &#123;              <span class="attr">firstName</span>: <span class="string">&#x27;Zhang&#x27;</span>,              <span class="attr">lastName</span>: <span class="string">&#x27;San&#x27;</span>,              <span class="attr">fullName</span>: <span class="string">&#x27;Zhang-San&#x27;</span>           &#125;       &#125;,      <span class="attr">watch</span>: &#123;         <span class="title function_">firstName</span>(<span class="params">val</span>) &#123;            <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;<span class="comment">//只能使用箭头函数               this.fullName = val + &#x27;-&#x27; + this.lastName            &#125;, 1000)         &#125;,         lastName(val) &#123;            this.fullName = this.firstName + &#x27;-&#x27; + val         &#125;      &#125;   &#125;)</span></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>





<h3 id="2-5-class和style绑定"><a href="#2-5-class和style绑定" class="headerlink" title="2.5 class和style绑定"></a>2.5 class和style绑定</h3><p>绑定样式：</p>
<p>​          1. <code>class</code>样式</p>
<p>​                写法<code>:class=&quot;xxx&quot;</code> xxx可以是<strong>字符串</strong>、<strong>对象</strong>、<strong>数组</strong>。</p>
<p>​                    字符串写法适用于：类名不确定，要动态获取。</p>
<p>​                    对象写法适用于：要绑定多个样式，个数不确定，名字也不确定。</p>
<p>​                    数组写法适用于：要绑定多个样式，个数确定，名字也确定，但不确定用不用。</p>
<p>​          2. <code>style</code>样式</p>
<p>​                <code>:style=&quot;&#123;fontSize: xxx&#125;&quot;</code>其中xxx是动态值。</p>
<p>​                <code>:style=&quot;[a,b]&quot;</code>其中a、b是样式对象。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span>   <span class="comment">&lt;!-- 绑定class样式--字符串写法，适用于：样式的类名不确定，需要动态指定 --&gt;</span>   <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;basic&quot;</span> <span class="attr">:class</span>=<span class="string">&quot;mood&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;changeMood&quot;</span>&gt;</span>&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span>   <span class="comment">&lt;!-- 绑定class样式--数组写法，适用于：要绑定的样式个数不确定、名字也不确定 --&gt;</span>   <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;basic&quot;</span> <span class="attr">:class</span>=<span class="string">&quot;arr&quot;</span>&gt;</span>&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span>   <span class="comment">&lt;!-- 绑定class样式--对象写法，适用于：要绑定的样式个数确定、名字也确定，但要动态决定用不用 --&gt;</span>   <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;basic&quot;</span> <span class="attr">:class</span>=<span class="string">&quot;obj&quot;</span>&gt;</span>&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span>   <span class="comment">&lt;!-- 绑定style样式--对象写法 --&gt;</span>   <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;basic&quot;</span> <span class="attr">:style</span>=<span class="string">&quot;styleObj&quot;</span>&gt;</span>&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span>   <span class="comment">&lt;!-- 绑定style样式--数组写法 --&gt;</span>   <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;basic&quot;</span> <span class="attr">:style</span>=<span class="string">&quot;[styleObj, styleObj2]&quot;</span>&gt;</span>&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span>   <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;basic&quot;</span> <span class="attr">:style</span>=<span class="string">&quot;styleArr&quot;</span>&gt;</span>&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript">   <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span>   <span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;       <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,       <span class="title function_">data</span>(<span class="params"></span>) &#123;           <span class="keyword">return</span> &#123;            <span class="attr">name</span>: <span class="string">&#x27;hello&#x27;</span>,              <span class="attr">mood</span>: <span class="string">&quot;normal&quot;</span>,              <span class="attr">arr</span>: [<span class="string">&#x27;atguigu1&#x27;</span>, <span class="string">&#x27;atguigu2&#x27;</span>, <span class="string">&#x27;atguigu3&#x27;</span>],              <span class="attr">obj</span>: &#123;                 <span class="attr">atguigu1</span>: <span class="literal">false</span>,                 <span class="attr">atguigu2</span>: <span class="literal">true</span>              &#125;,              <span class="attr">styleObj</span>:&#123;               <span class="attr">fontSize</span>: <span class="string">&quot;40px&quot;</span>            &#125;,              <span class="attr">styleObj2</span>:&#123;               <span class="attr">backgroundColor</span>: <span class="string">&quot;red&quot;</span>            &#125;,              <span class="attr">styleArr</span>: [                 &#123;                    <span class="attr">fontSize</span>: <span class="string">&quot;40px&quot;</span>                 &#125;,                 &#123;                    <span class="attr">backgroundColor</span>: <span class="string">&quot;red&quot;</span>                 &#125;              ]           &#125;       &#125;,      <span class="attr">methods</span>: &#123;         <span class="title function_">changeMood</span>(<span class="params"></span>) &#123;            <span class="keyword">const</span> arr = [<span class="string">&#x27;happy&#x27;</span>, <span class="string">&#x27;sad&#x27;</span>, <span class="string">&#x27;normal&#x27;</span>]            <span class="keyword">let</span> index = <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>()*<span class="number">3</span>)            <span class="variable language_">this</span>.<span class="property">mood</span> = arr[index]         &#125;      &#125;   &#125;)</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h3 id="2-6-条件渲染"><a href="#2-6-条件渲染" class="headerlink" title="2.6 条件渲染"></a>2.6 条件渲染</h3><p>条件渲染：</p>
<p>​              1.<code>v-if</code></p>
<p>​                    写法：</p>
<p>​                        (1).<code>v-if</code>&#x3D;”表达式” </p>
<p>​                        (2).<code>v-else-if</code>&#x3D;”表达式”</p>
<p>​                        (3).<code>v-else</code>&#x3D;”表达式”</p>
<p>​                    适用于：切换频率较<strong>低</strong>的场景。</p>
<p>​                    特点：不展示的DOM元素直接被移除。</p>
<p>​                    注意：<code>v-if</code>可以和<code>v-else-if</code>、<code>v-else</code>一起使用，但<strong>要求结构不能被“打断”</strong>。</p>
<p>​              2.<code>v-show</code></p>
<p>​                    写法：<code>v-show</code>&#x3D;”表达式”</p>
<p>​                    适用于：切换频率较<strong>高</strong>的场景。</p>
<p>​                    特点：不展示的DOM元素未被移除，仅仅是使用样式隐藏掉</p>
<p>​              3.备注：使用<code>v-if</code>的时，元素可能无法获取到，而使用 <code>v-show</code> 一定可以获取到。</p>
<blockquote>
<template v-if="n === 5">
        <h2>a</h2>
        <h2>b</h2>
        <h2>c</h2>
</template>


<p>当<code>v-if</code>条件为<code>true</code>时，不影响页面的结构，即<code>template</code>标签不会存在于<code>html</code>页面中。</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span>	<span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123;n&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span>	<span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;n++&quot;</span>&gt;</span>点我加1<span class="tag">&lt;/<span class="name">button</span>&gt;</span>	<span class="comment">&lt;!--v-show：结构仍然存在，只是style改为display: none--&gt;</span>	<span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-show</span>=<span class="string">&quot;false&quot;</span>&gt;</span>Hello, &#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span>	<span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-show</span>=<span class="string">&quot;true&quot;</span>&gt;</span>Hello, &#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span>	<span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-show</span>=<span class="string">&quot;1 === 2&quot;</span>&gt;</span>Hello, &#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span>	------------------	<span class="comment">&lt;!--v-if：结构不存在--&gt;</span>	<span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-if</span>=<span class="string">&quot;false&quot;</span>&gt;</span>Hello, &#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span>	<span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-if</span>=<span class="string">&quot;1 === 1&quot;</span>&gt;</span>Hello, &#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span>	------------------	<span class="comment">&lt;!--逻辑类似 v-else不用写条件 四个逻辑div要紧紧链接--&gt;</span>	<span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">&quot;n &lt;= 5&quot;</span>&gt;</span>a<span class="tag">&lt;/<span class="name">div</span>&gt;</span>	<span class="tag">&lt;<span class="name">div</span> <span class="attr">v-else-if</span>=<span class="string">&quot;n &lt;= 10&quot;</span>&gt;</span>b<span class="tag">&lt;/<span class="name">div</span>&gt;</span>	<span class="tag">&lt;<span class="name">div</span> <span class="attr">v-else-if</span>=<span class="string">&quot;n &lt;= 20&quot;</span>&gt;</span>c<span class="tag">&lt;/<span class="name">div</span>&gt;</span>	<span class="tag">&lt;<span class="name">div</span> <span class="attr">v-else</span>&gt;</span>d<span class="tag">&lt;/<span class="name">div</span>&gt;</span>	------------------	<span class="comment">&lt;!--template不影响结构 只能配合v-if使用--&gt;</span>	<span class="tag">&lt;<span class="name">template</span> <span class="attr">v-if</span>=<span class="string">&quot;n === 5&quot;</span>&gt;</span>		<span class="tag">&lt;<span class="name">h2</span>&gt;</span>a<span class="tag">&lt;/<span class="name">h2</span>&gt;</span>		<span class="tag">&lt;<span class="name">h2</span>&gt;</span>b<span class="tag">&lt;/<span class="name">h2</span>&gt;</span>		<span class="tag">&lt;<span class="name">h2</span>&gt;</span>c<span class="tag">&lt;/<span class="name">h2</span>&gt;</span>	<span class="tag">&lt;/<span class="name">template</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript">	<span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span>	<span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;		<span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,		<span class="title function_">data</span>(<span class="params"></span>) &#123;			<span class="keyword">return</span> &#123;				<span class="attr">name</span>: <span class="string">&#x27;zzzzzzzz&#x27;</span>,				<span class="attr">n</span>: <span class="number">1</span>			&#125;		&#125;	&#125;)</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h3 id="2-7-列表渲染"><a href="#2-7-列表渲染" class="headerlink" title="2.7 列表渲染"></a>2.7 列表渲染</h3><p><code>v-for</code>指令:</p>
<p>​            1.用于展示列表数据</p>
<p>​            2.语法：<code>v-for=&quot;(item, index) in xxx&quot; :key=&quot;yyy&quot;</code></p>
<p>​            3.可遍历：<strong>数组</strong>、<strong>对象</strong>、字符串（用的很少）、指定次数（用的很少）</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span>   <span class="tag">&lt;<span class="name">ul</span>&gt;</span>      <span class="comment">&lt;!--遍历数组--&gt;</span>      <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;p in persons&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;p.id&quot;</span>&gt;</span>         &#123;&#123;p.name&#125;&#125;-&#123;&#123;p.age&#125;&#125;      <span class="tag">&lt;/<span class="name">li</span>&gt;</span>      --------------------------      <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(p, index) in persons&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;index&quot;</span>&gt;</span>         &#123;&#123;p&#125;&#125;-&#123;&#123;index&#125;&#125;      <span class="tag">&lt;/<span class="name">li</span>&gt;</span>      --------------------------      <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(p, index) of persons&quot;</span>&gt;</span>         &#123;&#123;p&#125;&#125;-&#123;&#123;index&#125;&#125;      <span class="tag">&lt;/<span class="name">li</span>&gt;</span>      --------------------------      <span class="comment">&lt;!--遍历对象--&gt;</span>      <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(value, key) of car&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;key&quot;</span>&gt;</span>         &#123;&#123;key&#125;&#125;-&#123;&#123;value&#125;&#125;      <span class="tag">&lt;/<span class="name">li</span>&gt;</span>      --------------------------      <span class="comment">&lt;!--遍历字符串--&gt;</span>      <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(char, index) of str&quot;</span>&gt;</span>         &#123;&#123;char&#125;&#125;-&#123;&#123;index&#125;&#125;      <span class="tag">&lt;/<span class="name">li</span>&gt;</span>      --------------------------      <span class="comment">&lt;!--遍历指定次数--&gt;</span>      <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(number, index) of 6&quot;</span>&gt;</span>         &#123;&#123;number&#125;&#125;-&#123;&#123;index&#125;&#125;      <span class="tag">&lt;/<span class="name">li</span>&gt;</span>   <span class="tag">&lt;/<span class="name">ul</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript">   <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span>   <span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;      <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,      <span class="title function_">data</span>(<span class="params"></span>) &#123;         <span class="keyword">return</span> &#123;            <span class="attr">persons</span>: [               &#123;<span class="string">&#x27;id&#x27;</span>: <span class="number">1001</span>, <span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;航行&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">100</span>&#125;,               &#123;<span class="string">&#x27;id&#x27;</span>: <span class="number">1002</span>, <span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;哈哈哈&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">20</span>&#125;,               &#123;<span class="string">&#x27;id&#x27;</span>: <span class="number">1003</span>, <span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;子空间&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">120</span>&#125;            ],            <span class="attr">car</span>: &#123;               <span class="attr">name</span>: <span class="string">&#x27;奥迪&#x27;</span>,               <span class="attr">price</span>: <span class="number">700000</span>,               <span class="attr">color</span>: <span class="string">&#x27;red&#x27;</span>            &#125;,            <span class="attr">str</span>: <span class="string">&#x27;abcdeijMNPYZ&#x27;</span>         &#125;      &#125;   &#125;)</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>效果图：</p>
<img src="https://gitee.com/jxgitee/pictures/raw/master/img/202112022242414.png" alt="image-20211202224240277" style="zoom: 25%;" />





<h4 id="2-7-1-key的原理"><a href="#2-7-1-key的原理" class="headerlink" title="2.7.1 key的原理"></a>2.7.1 key的原理</h4><p>原理图：</p>
<img src="https://gitee.com/jxgitee/pictures/raw/master/img/202112041045382.png" alt="image-20211204104516233" style="zoom:50%;" />



<img src="https://gitee.com/jxgitee/pictures/raw/master/img/202112041044258.png" style="zoom:50%;" />

<p>面试题：react、<code>vue</code>中的<code>key</code>有什么作用？（key的内部原理）</p>
<p>​            1. 虚拟<code>DOM</code>中<code>key</code>的作用：</p>
<p>​                    <code>key</code>是虚拟<code>DOM</code>对象的标识，当数据发生变化时，<code>Vue</code>会根据【<strong>新数据</strong>】生成【<strong>新的虚拟DOM</strong>】, </p>
<p>​                    随后Vue进行【新虚拟DOM】与【旧虚拟DOM】的差异比较，比较规则如下：</p>
<p>​            2.对比规则：</p>
<p>​                  (1).旧虚拟DOM中找到了与新虚拟DOM相同的key：</p>
<p>​                        ①.若虚拟DOM中内容<strong>没变,</strong> 直接使用之前的真实DOM！</p>
<p>​                        ②.若虚拟DOM中内容<strong>变了</strong>, 则生成新的真实DOM，随后替换掉页面中之前的真实DOM。</p>
<p>​                  (2).旧虚拟DOM中未找到与新虚拟DOM相同的key</p>
<p>​                        <strong>创建新的</strong>真实DOM，随后渲染到到页面。</p>
<p>​            3. 用<code>index</code>作为<code>key</code>可能会引发的问题：</p>
<p>​                      1. 若对数据进行：<strong>逆序添加、逆序删除</strong>等破坏顺序操作:</p>
<p>​                              会产生<strong>没有必要</strong>的真实DOM更新 &#x3D;&#x3D;&gt; 界面效果没问题, 但效率低。</p>
<p>​                      2. 如果结构中还包含<strong>输入类</strong>的DOM：</p>
<p>​                              会产生<strong>错误</strong>DOM更新 &#x3D;&#x3D;&gt; 界面有问题。</p>
<p>​            4. <strong>开发</strong>中如何选择<code>key</code>?:</p>
<p>​                      1.最好使用每条数据的<strong>唯一标识</strong>作为key, 比如id、手机号、身份证号、学号等唯一值。</p>
<p>​                      2.如果不存在对数据的逆序添加、逆序删除等破坏顺序操作，仅用于渲染列表用于展示，</p>
<p>​                        使用index作为key是没有问题的。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;root&quot;</span>&gt;   &lt;button <span class="meta">@click</span>.once=<span class="string">&quot;add&quot;</span>&gt;点我增加用户&lt;/button&gt;   &lt;ul&gt;      &lt;!--遍历数组--&gt;      &lt;li v-<span class="keyword">for</span>=<span class="string">&quot;p in persons&quot;</span> :key=<span class="string">&quot;index&quot;</span>&gt;         &#123;&#123;p.name&#125;&#125;-&#123;&#123;p.age&#125;&#125;         &lt;input type=<span class="string">&quot;text&quot;</span>&gt;      &lt;/li&gt;   &lt;/ul&gt;&lt;/div&gt;&lt;script type=<span class="string">&quot;text/javascript&quot;</span>&gt;   Vue.config.productionTip = <span class="literal">false</span>   <span class="type">const</span> <span class="variable">vm</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;      el: <span class="string">&#x27;#root&#x27;</span>,      data() &#123;         <span class="keyword">return</span> &#123;            persons: [               &#123;<span class="string">&#x27;id&#x27;</span>: <span class="number">1001</span>, name: <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">100</span>&#125;,               &#123;<span class="string">&#x27;id&#x27;</span>: <span class="number">1002</span>, name: <span class="string">&#x27;哈哈哈&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">20</span>&#125;,               &#123;<span class="string">&#x27;id&#x27;</span>: <span class="number">1003</span>, <span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;子空间&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">120</span>&#125;            ]         &#125;      &#125;,      methods: &#123;         add() &#123;            <span class="built_in">this</span>.persons.unshift(&#123;<span class="string">&#x27;id&#x27;</span>: <span class="number">1004</span>, <span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">200</span>&#125;)         &#125;      &#125;   &#125;)&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>原界面：</p>
<blockquote>
<img src="https://gitee.com/jxgitee/pictures/raw/master/img/202112041055263.png" alt="image-20211204105555203" style="zoom:80%;" />
</blockquote>
<blockquote>
<p>点击增加用户按钮后，vue会根据key与原来的dom进行比较，相同的部分保留，不同的部分更新。由于是逆序更新，所以新的dom对象的key全部更新，与原来无法一一对应，造成数据异常。</p>
</blockquote>
<blockquote>
<img src="https://gitee.com/jxgitee/pictures/raw/master/img/202112041058955.png" alt="image-20211204105809893" style="zoom:80%;" />
</blockquote>
<h4 id="2-7-2-列表过滤"><a href="#2-7-2-列表过滤" class="headerlink" title="2.7.2 列表过滤"></a>2.7.2 列表过滤</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;root&quot;</span>&gt;   &lt;h1&gt;人员列表&lt;/h1&gt;   &lt;input type=<span class="string">&quot;text&quot;</span> placeholder=<span class="string">&quot;请输入姓名&quot;</span> v-model=<span class="string">&quot;keyWord&quot;</span>&gt;   &lt;ul&gt;      &lt;li v-<span class="keyword">for</span>=<span class="string">&quot;p in filteredPersons&quot;</span> :key=<span class="string">&quot;p.id&quot;</span>&gt;         &#123;&#123;p.name&#125;&#125;--&#123;&#123;p.age&#125;&#125;--&#123;&#123;p.sex&#125;&#125;      &lt;/li&gt;   &lt;/ul&gt;&lt;/div&gt;&lt;script type=<span class="string">&quot;text/javascript&quot;</span>&gt;  Vue.config.productionTip = <span class="literal">false</span>  <span class="comment">//用watch实现  // #region  // const vm = new Vue(&#123;  //     el: &#x27;#root&#x27;,  //     data() &#123;  //         return &#123;   //           persons: [   //               &#123;id:&#x27;001&#x27;,name:&#x27;马冬梅&#x27;,age:19,sex:&#x27;女&#x27;&#125;,   //               &#123;id:&#x27;002&#x27;,name:&#x27;周冬雨&#x27;,age:20,sex:&#x27;女&#x27;&#125;,   //               &#123;id:&#x27;003&#x27;,name:&#x27;周杰伦&#x27;,age:21,sex:&#x27;男&#x27;&#125;,   //               &#123;id:&#x27;004&#x27;,name:&#x27;温兆伦&#x27;,age:22,sex:&#x27;男&#x27;&#125;   //           ],   //           keyWord: &#x27;&#x27;,   //           filteredPersons: [] //需要先定义  //         &#125;  //     &#125;,   //   watch: &#123;  //       keyWord: &#123;  //          immediate:true,//页面一加载就立即执行   //         handler(val) &#123;   //             this.filteredPersons = this.persons.filter((p)=&gt;&#123;   //                return p.name.indexOf(val) !== -1 //过滤，val为&#x27;&#x27;时会返回0，所以整个数组都被返回   //             &#125;)   //         &#125;  //       &#125;   //   &#125;  // &#125;)  //用computed实现  const vm = new Vue(&#123;     el: &#x27;#root&#x27;,     data() &#123;        return &#123;           persons: [              &#123;id:&#x27;001&#x27;,name:&#x27;马冬梅&#x27;,age:19,sex:&#x27;女&#x27;&#125;,              &#123;id:&#x27;002&#x27;,name:&#x27;周冬雨&#x27;,age:20,sex:&#x27;女&#x27;&#125;,              &#123;id:&#x27;003&#x27;,name:&#x27;周杰伦&#x27;,age:21,sex:&#x27;男&#x27;&#125;,              &#123;id:&#x27;004&#x27;,name:&#x27;温兆伦&#x27;,age:22,sex:&#x27;男&#x27;&#125;           ],           keyWord: &#x27;&#x27;,            //没有定义filteredPersons        &#125;     &#125;,     computed: &#123;        filteredPersons()&#123;         return this.persons.filter((p)=&gt;&#123;             return p.name.indexOf(this.keyWord) !== -1          &#125;)       &#125;     &#125;  &#125;)&lt;/script&gt;</span></span><br></pre></td></tr></table></figure>



<h4 id="2-7-2-列表排序"><a href="#2-7-2-列表排序" class="headerlink" title="2.7.2 列表排序"></a>2.7.2 列表排序</h4><p>可以根据当前已经被过滤的数组进行排序。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;root&quot;</span>&gt;   &lt;h1&gt;人员列表&lt;/h1&gt;   &lt;input type=<span class="string">&quot;text&quot;</span> placeholder=<span class="string">&quot;请输入姓名&quot;</span> v-model=<span class="string">&quot;keyWord&quot;</span>&gt;   &lt;button <span class="meta">@click</span>=<span class="string">&quot;sortType = 2&quot;</span>&gt;年龄升序&lt;/button&gt;   &lt;button <span class="meta">@click</span>=<span class="string">&quot;sortType = 1&quot;</span>&gt;年龄降序&lt;/button&gt;   &lt;button <span class="meta">@click</span>=<span class="string">&quot;sortType = 0&quot;</span>&gt;原顺序&lt;/button&gt;   &lt;ul&gt;      &lt;li v-<span class="keyword">for</span>=<span class="string">&quot;p in filteredPersons&quot;</span> :key=<span class="string">&quot;p.id&quot;</span>&gt;         &#123;&#123;p.name&#125;&#125;--&#123;&#123;p.age&#125;&#125;--&#123;&#123;p.sex&#125;&#125;      &lt;/li&gt;   &lt;/ul&gt;&lt;/div&gt;&lt;script type=<span class="string">&quot;text/javascript&quot;</span>&gt;   Vue.config.productionTip = <span class="literal">false</span>   <span class="type">const</span> <span class="variable">vm</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;      el: <span class="string">&#x27;#root&#x27;</span>,      data() &#123;         <span class="keyword">return</span> &#123;            persons: [               &#123;id: <span class="string">&#x27;001&#x27;</span>, name: <span class="string">&#x27;马冬梅&#x27;</span>, age: <span class="number">19</span>, sex: <span class="string">&#x27;女&#x27;</span>&#125;,               &#123;id: <span class="string">&#x27;002&#x27;</span>, name: <span class="string">&#x27;周冬雨&#x27;</span>, age: <span class="number">20</span>, sex: <span class="string">&#x27;女&#x27;</span>&#125;,               &#123;id: <span class="string">&#x27;003&#x27;</span>, name: <span class="string">&#x27;周杰伦&#x27;</span>, age: <span class="number">21</span>, sex: <span class="string">&#x27;男&#x27;</span>&#125;,               &#123;id: <span class="string">&#x27;004&#x27;</span>, name: <span class="string">&#x27;温兆伦&#x27;</span>, age: <span class="number">22</span>, sex: <span class="string">&#x27;男&#x27;</span>&#125;            ],            keyWord: <span class="string">&#x27;&#x27;</span>,            sortType: <span class="number">0</span>, <span class="comment">//0代表原顺序，1代表降序，2代表升序         &#125;      &#125;,      computed: &#123;         filteredPersons() &#123;            const arr = this.persons.filter((p) =&gt; &#123;               return p.name.indexOf(this.keyWord) !== -1            &#125;)             if(this.sortType === 0) &#123;                return arr             &#125; else if(this.sortType === 1) &#123;                return arr.sort((a, b)=&gt;&#123;                   return b.age - a.age                &#125;)             &#125; else &#123;                return arr.sort((a, b)=&gt;&#123;                   return a.age - b.age                &#125;)             &#125;         &#125;      &#125;   &#125;)&lt;/script&gt;</span></span><br></pre></td></tr></table></figure>



<h4 id="2-7-3-数组更新检测"><a href="#2-7-3-数组更新检测" class="headerlink" title="2.7.3 数组更新检测"></a>2.7.3 数组更新检测</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;root&quot;</span>&gt;	&lt;h1&gt;人员列表&lt;/h1&gt;	&lt;button <span class="meta">@click</span>=<span class="string">&quot;updateMa&quot;</span>&gt;点我修改马冬梅&lt;/button&gt;	&lt;ul&gt;		&lt;li v-<span class="keyword">for</span>=<span class="string">&quot;p in filteredPersons&quot;</span> :key=<span class="string">&quot;p.id&quot;</span>&gt;			&#123;&#123;p.name&#125;&#125;--&#123;&#123;p.age&#125;&#125;--&#123;&#123;p.sex&#125;&#125;		&lt;/li&gt;	&lt;/ul&gt;&lt;/div&gt;&lt;script type=<span class="string">&quot;text/javascript&quot;</span>&gt;	Vue.config.productionTip = <span class="literal">false</span>	<span class="type">const</span> <span class="variable">vm</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;		el: <span class="string">&#x27;#root&#x27;</span>,		data() &#123;			<span class="keyword">return</span> &#123;				persons: [					&#123;id: <span class="string">&#x27;001&#x27;</span>, name: <span class="string">&#x27;马冬梅&#x27;</span>, age: <span class="number">19</span>, sex: <span class="string">&#x27;女&#x27;</span>&#125;,					&#123;id: <span class="string">&#x27;002&#x27;</span>, name: <span class="string">&#x27;周冬雨&#x27;</span>, age: <span class="number">20</span>, sex: <span class="string">&#x27;女&#x27;</span>&#125;,					&#123;id: <span class="string">&#x27;003&#x27;</span>, name: <span class="string">&#x27;周杰伦&#x27;</span>, age: <span class="number">21</span>, sex: <span class="string">&#x27;男&#x27;</span>&#125;,					&#123;id: <span class="string">&#x27;004&#x27;</span>, name: <span class="string">&#x27;温兆伦&#x27;</span>, age: <span class="number">22</span>, sex: <span class="string">&#x27;男&#x27;</span>&#125;				],			&#125;		&#125;,		methods: &#123;		updateMa() &#123;            <span class="comment">//this.persons[0] = &#123;id: &#x27;001&#x27;, name: &#x27;毛包裹&#x27;, age: 50, sex: &#x27;男&#x27;&#125;		错误			this.persons.splice(0, 1, &#123;id: &#x27;001&#x27;, name: &#x27;毛包裹&#x27;, age: 50, sex: &#x27;男&#x27;&#125;)		&#125;	&#125;	&#125;)&lt;/script&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>对数组直接进行 this.persons[0] &#x3D; {id: ‘001’, name: ‘毛包裹’, age: 50, sex: ‘男’} 操作将不能被 Vue 检测，虽然 vm 中的数据改变了，但是但是页面中的值不能改变，所以该方法无效。</p>
</blockquote>
<p>Vue 将<strong>被侦听的数组的变更方法</strong>进行了包裹，所以它们也将会触发视图更新。这些被包裹过的方法包括：</p>
<ul>
<li><code>push()</code></li>
<li><code>pop()</code></li>
<li><code>shift()</code></li>
<li><code>unshift()</code></li>
<li><code>splice()</code></li>
</ul>
<blockquote>
<p>splice(start: number, deleteCount?: number)</p>
</blockquote>
<ul>
<li><code>sort()</code></li>
<li><code>reverse()</code></li>
</ul>
<p>你可以打开控制台，然后对前面例子的 <code>items</code> 数组尝试调用变更方法。比如 <code>example1.items.push(&#123; message: &#39;Baz&#39; &#125;)</code>。</p>
<p><strong>替换数组</strong></p>
<p>变更方法，顾名思义，会变更调用了这些方法的原始数组。相比之下，也有非变更方法，例如 <code>filter()</code>、<code>concat()</code> 和 <code>slice()</code>。它们不会变更原始数组，而<strong>总是返回一个新数组</strong>。当使用非变更方法时，可以用新数组替换旧数组：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">example1.<span class="property">items</span> = example1.<span class="property">items</span>.<span class="title function_">filter</span>(<span class="keyword">function</span> (<span class="params">item</span>) &#123;  <span class="keyword">return</span> item.<span class="property">message</span>.<span class="title function_">match</span>(<span class="regexp">/Foo/</span>)&#125;)</span><br></pre></td></tr></table></figure>

<p>你可能认为这将导致 Vue 丢弃现有 DOM 并重新渲染整个列表。</p>
<p>幸运的是，事实并非如此。</p>
<p>Vue 为了使得 DOM 元素得到最大范围的重用而实现了一些智能的启发式方法，所以用一个含有相同元素的数组去替换原来的数组是非常高效的操作。</p>
<h4 id="2-7-4-Vue数据检测原理"><a href="#2-7-4-Vue数据检测原理" class="headerlink" title="2.7.4 Vue数据检测原理"></a>2.7.4 Vue数据检测原理</h4><p><code>Vue</code>监视数据的原理：</p>
<p>​        1. <code>vue</code>会监视 data 中所有层次的数据。</p>
<p>​        2. 如何监测对象中的数据？</p>
<p>​                通过<code>setter</code>实现监视，且要在<code>new Vue</code>时就传入要监测的数据。</p>
<p>​                  (1).对象中<strong>后追加的属性</strong>，<code>Vue</code><strong>默认不做响应式处理</strong></p>
<p>​                  (2).如需给后添加的属性做响应式，请使用如下API：</p>
<p>​                          <code>Vue.set(target，propertyName/index，value) 或</code> </p>
<p>​                          <code>vm.$set(target，propertyName/index，value)</code></p>
<blockquote>
<p>注意不能直接添加 data 中的根数据，只能添加 data 下对象数据的属性。</p>
<p>注意对象不能是 <code>Vue 实例</code>，或者 <code>Vue 实例的根数据对象</code>。即<code>vm</code>和<code>vm._data</code></p>
</blockquote>
<p>​        3. 如何监测数组中的数据？</p>
<p>​                  通过包裹数组更新元素的方法实现，本质就是做了两件事：</p>
<p>​                    (1).调用原生对应的方法对数组进行更新。</p>
<p>​                    (2).重新解析模板，进而更新页面。</p>
<p>​        4.在Vue<strong>修改数组</strong>中的某个元素一定要用如下方法：</p>
<p>​              1.使用这些API: <code>push()、pop()、shift()、unshift()、splice()、sort()、reverse()</code></p>
<p>​              2.<code>Vue.set() 或 vm.$set()</code></p>
<blockquote>
<p>特别注意：Vue.set() 和 vm.$set() 不能给vm 或 vm的根数据对象 添加属性！！！</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;root&quot;</span>&gt;	&lt;button <span class="meta">@click</span>=<span class="string">&quot;addSex&quot;</span>&gt;点击添加性别属性&lt;/button&gt;	&lt;h2&gt;name: &#123;&#123;student.name&#125;&#125;&lt;/h2&gt;	&lt;h2&gt;age: &#123;&#123;student.age&#125;&#125;&lt;/h2&gt;	&lt;h2 v-<span class="keyword">if</span>=<span class="string">&quot;student.sex&quot;</span>&gt;sex: &#123;&#123;student.sex&#125;&#125;&lt;/h2&gt;	&lt;ul&gt;		&lt;li v-<span class="keyword">for</span>=<span class="string">&quot;(h, index) in hobbies&quot;</span> :key=<span class="string">&quot;index&quot;</span>&gt;			&#123;&#123;h&#125;&#125;		&lt;/li&gt;	&lt;/ul&gt;&lt;/div&gt;&lt;script type=<span class="string">&quot;text/javascript&quot;</span>&gt;	Vue.config.productionTip = <span class="literal">false</span>	<span class="type">const</span> <span class="variable">vm</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;		el: <span class="string">&#x27;#root&#x27;</span>,		data() &#123;			<span class="keyword">return</span> &#123;				student: &#123;					age: <span class="number">18</span>,					name: <span class="string">&#x27;zhangsan&#x27;</span>,				&#125;,				hobbies: [<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>]			&#125;		&#125;,		methods: &#123;			addSex() &#123;                <span class="comment">//两种方法：				this.$set(this.student, &#x27;sex&#x27;, &#x27;男&#x27;)			    Vue.set(this.student, &#x27;sex&#x27;, &#x27;女&#x27;)			&#125;		&#125;	&#125;)&lt;/script&gt;</span></span><br></pre></td></tr></table></figure>





<h3 id="2-8-收集表单数据"><a href="#2-8-收集表单数据" class="headerlink" title="2.8 收集表单数据"></a>2.8 收集表单数据</h3><p>收集表单数据：</p>
<p>​          若：<code>&lt;input type=&quot;text&quot;/&gt;</code>，则v-model收集的是value值，用户输入的就是value值。</p>
<p>​          若：<code>&lt;input type=&quot;radio&quot;/&gt;</code>，则v-model收集的是value值，且要给标签配置value值。</p>
<p>​          若：<code>&lt;input type=&quot;checkbox&quot;/&gt;</code></p>
<p>​              1.没有配置 input 的 value 属性，那么收集的就是<code>checked</code>（勾选 or 未勾选，是布尔值）</p>
<p>​              2.配置 input 的 value 属性:</p>
<p>​                  (1)v-model的初始值是非数组，那么收集的就是checked（勾选 or 未勾选，是<strong>布尔值</strong>）</p>
<p>​                  (2)v-model的初始值是<strong>数组</strong>，那么收集的的就是value组成的数组</p>
<p>​          备注：<strong>v-model的三个修饰符</strong>：</p>
<p>​                  <code>lazy</code>：失去焦点再收集数据</p>
<p>​                  <code>number</code>：输入字符串转为有效的数字</p>
<p>​                  <code>trim</code>：输入首尾空格过滤</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span>   <span class="tag">&lt;<span class="name">form</span> @<span class="attr">submit.prevent</span>=<span class="string">&quot;demo&quot;</span>&gt;</span>      <span class="comment">&lt;!--去除首尾空格--&gt;</span>      账号：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model.trim</span>=<span class="string">&quot;account&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span>      密码：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;password&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span>      年龄：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;number&quot;</span> <span class="attr">v-model.number</span>=<span class="string">&quot;age&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span>      <span class="comment">&lt;!--转为数字--&gt;</span>      性别：      男<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;sex&quot;</span> <span class="attr">value</span>=<span class="string">&quot;male&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;sex&quot;</span>&gt;</span>      女<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;sex&quot;</span> <span class="attr">value</span>=<span class="string">&quot;female&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;sex&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span>      爱好：      a<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">value</span>=<span class="string">&quot;a&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;hobby&quot;</span>&gt;</span>      b<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">value</span>=<span class="string">&quot;b&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;hobby&quot;</span>&gt;</span>      c<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">value</span>=<span class="string">&quot;c&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;hobby&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span>      地区：      <span class="tag">&lt;<span class="name">select</span> <span class="attr">v-model</span>=<span class="string">&quot;city&quot;</span>&gt;</span>         <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;&quot;</span>&gt;</span>请选择<span class="tag">&lt;/<span class="name">option</span>&gt;</span>         <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;Beijing&quot;</span>&gt;</span>北京<span class="tag">&lt;/<span class="name">option</span>&gt;</span>         <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;Shanghai&quot;</span>&gt;</span>上海<span class="tag">&lt;/<span class="name">option</span>&gt;</span>         <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;GuangZhou&quot;</span>&gt;</span>广州<span class="tag">&lt;/<span class="name">option</span>&gt;</span>      <span class="tag">&lt;/<span class="name">select</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span>      <span class="comment">&lt;!--失去焦点再收集--&gt;</span>      其他：<span class="tag">&lt;<span class="name">textarea</span> <span class="attr">name</span>=<span class="string">&quot;&quot;</span> <span class="attr">id</span>=<span class="string">&quot;&quot;</span> <span class="attr">cols</span>=<span class="string">&quot;30&quot;</span> <span class="attr">rows</span>=<span class="string">&quot;10&quot;</span> <span class="attr">v-model.lazy</span>=<span class="string">&quot;other&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span>      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;agree&quot;</span>&gt;</span>阅读并接受<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://www.baidu.com&quot;</span>&gt;</span>《用户协议》<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span>      <span class="tag">&lt;<span class="name">button</span>&gt;</span>提交<span class="tag">&lt;/<span class="name">button</span>&gt;</span>   <span class="tag">&lt;/<span class="name">form</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript">   <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span>   <span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;      <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,      <span class="title function_">data</span>(<span class="params"></span>) &#123;         <span class="keyword">return</span> &#123;            <span class="attr">account</span>: <span class="string">&#x27;&#x27;</span>,            <span class="attr">password</span>: <span class="string">&#x27;&#x27;</span>,            <span class="attr">sex</span>: <span class="string">&#x27;male&#x27;</span>,            <span class="attr">age</span>: <span class="string">&#x27;&#x27;</span>,            <span class="attr">hobby</span>: [],            <span class="attr">city</span>: <span class="string">&#x27;&#x27;</span>,            <span class="attr">other</span>: <span class="string">&#x27;&#x27;</span>,            <span class="attr">agree</span>: <span class="string">&#x27;&#x27;</span>         &#125;      &#125;,      <span class="attr">methods</span>: &#123;         <span class="title function_">demo</span>(<span class="params"></span>) &#123;            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(t                                       his.<span class="property">_data</span>))         &#125;      &#125;   &#125;)</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>







<h3 id="2-9-过滤器"><a href="#2-9-过滤器" class="headerlink" title="2.9 过滤器"></a>2.9 过滤器</h3><p><code>moment.js</code>：js时间处理类库。</p>
<p><code>day.js</code>：轻量化时间处理类库。</p>
<p>过滤器：</p>
<p>​        定义：对要显示的数据进行特定格式化后再显示（适用于一些简单逻辑的处理）。</p>
<p>​        语法：</p>
<p>​            1.注册过滤器：<code>Vue.filter(name,callback)</code> 或 <code>new Vue&#123;filters:&#123;&#125;&#125;</code></p>
<p>​            2.使用过滤器：<code>&#123;&#123; xxx | 过滤器名&#125;&#125;</code>  或  <code>v-bind:属性 = &quot;xxx | 过滤器名&quot;</code></p>
<blockquote>
<p> 备注：</p>
<p> ​      1.过滤器也可以接收额外参数、多个过滤器也可以串联</p>
<p> ​      2.并没有改变原本的数据，是产生新的对应的数据</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span>   <span class="comment">&lt;!--计算属性--&gt;</span>   <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;fmtTime&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span>   <span class="comment">&lt;!--methods实现--&gt;</span>   <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;getFmtTime()&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span>   <span class="comment">&lt;!--过滤器实现--&gt;</span>   <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;time | timeFormat&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span>   <span class="comment">&lt;!--过滤器传参--&gt;</span>   <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;time | timeFormat(&quot;YYYY_MM_DD HH:mm:ss&quot;)&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span>   <span class="comment">&lt;!--前一个的返回值作为后一个的参数--&gt;</span>   <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;time | timeFormat(&quot;YYYY_MM_DD HH:mm:ss&quot;) | myslice&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span>   <span class="comment">&lt;!--过滤器还能在v-bind中使用，v-model中不能使用--&gt;</span>   <span class="tag">&lt;<span class="name">h2</span> <span class="attr">:x</span>=<span class="string">&quot;msg | myslice&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">h2</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript">   <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span>   <span class="comment">/*全局过滤器*/</span>   <span class="title class_">Vue</span>.<span class="title function_">filter</span>(<span class="string">&#x27;myslice&#x27;</span>, <span class="keyword">function</span> (<span class="params">value</span>) &#123;      <span class="keyword">return</span> value.<span class="title function_">slice</span>(<span class="number">0</span>, <span class="number">4</span>)   &#125;)   <span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;      <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,      <span class="title function_">data</span>(<span class="params"></span>) &#123;         <span class="keyword">return</span> &#123;            <span class="attr">time</span>: <span class="title class_">Date</span>.<span class="title function_">now</span>(),            <span class="attr">msg</span>: <span class="string">&#x27;hello&#x27;</span>         &#125;      &#125;,      <span class="attr">computed</span>: &#123;         <span class="title function_">fmtTime</span>(<span class="params"></span>) &#123;            <span class="keyword">return</span> <span class="title function_">dayjs</span>(<span class="title class_">Date</span>.<span class="title function_">now</span>()).<span class="title function_">format</span>(<span class="string">&#x27;YYYY-MM-DD HH:mm:ss&#x27;</span>)         &#125;      &#125;,      <span class="attr">methods</span>: &#123;         <span class="title function_">getFmtTime</span>(<span class="params"></span>)&#123;            <span class="keyword">return</span> <span class="title function_">dayjs</span>(<span class="title class_">Date</span>.<span class="title function_">now</span>()).<span class="title function_">format</span>(<span class="string">&#x27;YYYY-MM-DD HH:mm:ss&#x27;</span>)         &#125;      &#125;,      <span class="attr">filters</span>: &#123;         <span class="comment">/*局部过滤器*/</span>         <span class="title function_">timeFormat</span>(<span class="params">value, str = <span class="string">&#x27;YYYY-MM-DD HH:mm:ss&#x27;</span></span>) &#123;            <span class="variable language_">console</span>.<span class="title function_">log</span>(value)            <span class="keyword">return</span> <span class="title function_">dayjs</span>(<span class="title class_">Date</span>.<span class="title function_">now</span>()).<span class="title function_">format</span>(str)         &#125;,      &#125;   &#125;)</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h3 id="3-1-内置指令"><a href="#3-1-内置指令" class="headerlink" title="3.1 内置指令"></a>3.1 内置指令</h3><h4 id="3-1-1-v-text"><a href="#3-1-1-v-text" class="headerlink" title="3.1.1 v-text"></a>3.1.1 v-text</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-text</span>=<span class="string">&quot;name&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>将<code>name</code>的值直接给<code>div</code>标签。</p>
<p><code>v-text</code>指令：</p>
<p>​            1.作用：向其所在的节点中渲染文本内容。</p>
<p>​            2.与插值语法的区别：<code>v-text</code>会替换掉节点中的内容，<code>&#123;&#123;xx&#125;&#125;</code>则不会。</p>
<h4 id="3-1-2-v-html"><a href="#3-1-2-v-html" class="headerlink" title="3.1.2 v-html"></a>3.1.2 v-html</h4><p><code>v-html</code>指令：</p>
<p>​            1.作用：向指定节点中<strong>渲染</strong>包含html结构的内容。</p>
<p>​            2.与插值语法的区别：</p>
<p>​                  (1).<code>v-html</code>会替换掉节点中所有的内容，<code>&#123;&#123;xx&#125;&#125;</code>则不会。</p>
<p>​                  (2).<code>v-html</code>可以<strong>识别html结构</strong>。</p>
<p>​            3.严重注意：<code>v-html</code>有安全性问题！！！！</p>
<p>​                  (1).在网站上动态渲染任意HTML是非常危险的，容易导致<code>XSS</code>攻击。</p>
<p>​                  (2).一定要在可信的内容上使用<code>v-html</code>，<strong>永不要用在用户提交的内容上！</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span>   <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-html</span>=<span class="string">&quot;name&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript">  <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span>  <span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;      <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,      <span class="title function_">data</span>(<span class="params"></span>) &#123;          <span class="keyword">return</span> &#123;             <span class="attr">name</span>: <span class="string">&#x27;&lt;h1&gt;Hello&lt;/h1&gt;&#x27;</span>          &#125;      &#125;  &#125;)</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h4 id="3-1-3-v-cloak"><a href="#3-1-3-v-cloak" class="headerlink" title="3.1.3 v-cloak"></a>3.1.3 v-cloak</h4><p><code>v-cloak</code>指令（<strong>没有值</strong>）：</p>
<p>​            1.本质是一个特殊属性，<code>Vue</code>实例创建完毕并接管容器后，会删掉<code>v-cloak</code>属性。</p>
<p>​            2.使用<code>css</code>配合<code>v-cloak</code>可以解决网速慢时页面展示出<code>&#123;&#123;xxx&#125;&#125;</code>的问题。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span>   <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span>   <span class="tag">&lt;<span class="name">title</span>&gt;</span>v-cloak指令<span class="tag">&lt;/<span class="name">title</span>&gt;</span>   <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css">      <span class="comment">/*选择所有含v-cloak属性的tag*/</span>        <span class="selector-attr">[v-cloak]</span>&#123;            <span class="attribute">display</span>:none;        &#125;   </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span>   <span class="comment">&lt;!-- 引入Vue --&gt;</span><span class="tag">&lt;/<span class="name">head</span>&gt;</span><span class="tag">&lt;<span class="name">body</span>&gt;</span><span class="comment">&lt;!-- 准备好一个容器--&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span>   <span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-cloak</span>&gt;</span>&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span><span class="tag">&lt;/<span class="name">body</span>&gt;</span><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript">   <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span>)   <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span> <span class="comment">//阻止 vue 在启动时生成生产提示。   new Vue(&#123;      el:&#x27;#root&#x27;,      data:&#123;         name:&#x27;尚硅谷&#x27;      &#125;   &#125;)</span></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h4 id="3-1-4-v-once"><a href="#3-1-4-v-once" class="headerlink" title="3.1.4 v-once"></a>3.1.4 v-once</h4><p><code>v-once</code>指令：</p>
<p>​            1.<code>v-once</code>所在节点在初次动态渲染后，就视为<strong>静态内容</strong>（即不再变化）了。</p>
<p>​            2.以后数据的改变不会引起<code>v-once</code>所在结构的更新，可以用于优化性能。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span>    <span class="comment">&lt;!--n恒为1--&gt;</span>    <span class="tag">&lt;<span class="name">h1</span> <span class="attr">v-once</span>&gt;</span>n初值为：&#123;&#123;n&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span>    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>n为：&#123;&#123;n&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span>    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;n++&quot;</span>&gt;</span>等我n+1<span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript">    <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span>    <span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;        <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,        <span class="title function_">data</span>(<span class="params"></span>) &#123;            <span class="keyword">return</span> &#123;                <span class="attr">n</span>: <span class="number">1</span>            &#125;        &#125;    &#125;)</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h4 id="3-1-5-v-pre"><a href="#3-1-5-v-pre" class="headerlink" title="3.1.5 v-pre"></a>3.1.5 v-pre</h4><p><code>v-pre</code>指令：</p>
<p>​          1.跳过其所在节点的编译过程。</p>
<p>​          2.可利用它跳过：没有使用指令语法、没有使用插值语法的节点，会加快编译。</p>
<h3 id="3-2-自定义指令"><a href="#3-2-自定义指令" class="headerlink" title="3.2 自定义指令"></a>3.2 自定义指令</h3><p>需求1：定义一个v-big指令，和v-text功能类似，但会把绑定的数值放大10倍。</p>
<p>需求2：定义一个v-fbind指令，和v-bind功能类似，但可以让其所绑定的input元素默认获取焦点。</p>
<p>​        自定义指令总结：</p>
<blockquote>
<p> 一、定义语法：</p>
<p> ​     (1).局部指令：</p>
<p> ​         new Vue({</p>
<p> ​                directives:{指令名:配置对象}  或   directives{指令名:回调函数}</p>
<p> ​          })    </p>
<p> ​      (2).全局指令：</p>
<p> ​         <code>Vue.directive(指令名,配置对象)</code> 或  <code>Vue.directive(指令名,回调函数)</code></p>
<p> 二、配置对象中常用的3个回调：<code>this</code>为<code>window</code>。</p>
<p> ​     (1).<code>bind</code>：指令与元素成功绑定时调用。</p>
<p> ​     (2).<code>inserted</code>：指令所在元素被插入页面时调用。</p>
<p> ​     (3).<code>update</code>：指令所在模板结构被重新解析时调用。</p>
<p> 三、备注：</p>
<p> ​     1.指令**定义时不加v-<strong>，但</strong>使用时要加v-**；</p>
<p> ​     2.指令名如果是多个单词，要使用<code>kebab-case</code>命名方式，不要用<code>camelCase</code>命名。</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span>    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>当前n为：&#123;&#123;n&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span>    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>放大识别后n为：<span class="tag">&lt;<span class="name">span</span> <span class="attr">v-big</span>=<span class="string">&quot;n&quot;</span>&gt;</span>&#123;&#123;n&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">h1</span>&gt;</span>    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;n++&quot;</span>&gt;</span>等我n+1<span class="tag">&lt;/<span class="name">button</span>&gt;</span>    <span class="tag">&lt;<span class="name">hr</span>&gt;</span>    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-fbind:value</span>=<span class="string">&quot;n&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript">    <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span>    <span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;        <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,        <span class="title function_">data</span>(<span class="params"></span>) &#123;            <span class="keyword">return</span> &#123;                <span class="attr">n</span>: <span class="number">1</span>            &#125;        &#125;,        <span class="attr">directives</span>: &#123;            <span class="comment">/*什么时候被调用？            * 1.元素成功绑定时（一上来）            * 2.指令所在模板重新解析时            * */</span>            <span class="title function_">big</span>(<span class="params">element, binding</span>) &#123;                <span class="comment">// console.log(element) &lt;span&gt;&lt;/span&gt;                // console.log(binding) Object                element.innerText = binding.value * 10            &#125;,            fbind: &#123;                /*元素成功绑定时调用*/                bind(element, binding) &#123;                    element.value = binding.value * 10                &#125;,                /*元素被插入页面时调用*/                inserted(element, binding) &#123;                    element.focus()                &#125;,                /*模板被重新解析时调用*/                update(element, binding) &#123;                    element.value = binding.value * 10                &#125;            &#125;        &#125;    &#125;)</span></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>全局指令：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Vue</span>.<span class="title function_">directive</span>(<span class="string">&#x27;fbind&#x27;</span>, &#123;    <span class="title function_">bind</span>(<span class="params">element, binding</span>) &#123;        element.<span class="property">value</span> = binding.<span class="property">value</span> * <span class="number">10</span>    &#125;,    <span class="title function_">inserted</span>(<span class="params">element, binding</span>) &#123;        element.<span class="title function_">focus</span>()    &#125;,    <span class="title function_">update</span>(<span class="params">element, binding</span>)  &#123;        element.<span class="property">value</span> = binding.<span class="property">value</span> * <span class="number">10</span>    &#125;&#125;)<span class="title class_">Vue</span>.<span class="title function_">directive</span>(<span class="string">&#x27;big&#x27;</span>, <span class="keyword">function</span> (<span class="params">element, binding</span>) &#123;    element.<span class="property">innerText</span> = binding.<span class="property">value</span> * <span class="number">10</span>&#125;)</span><br></pre></td></tr></table></figure>



<h3 id="3-3-生命周期"><a href="#3-3-生命周期" class="headerlink" title="3.3 生命周期"></a>3.3 生命周期</h3><p>生命周期：</p>
<p>​            1.又名：生命周期回调函数、生命周期函数、生命周期钩子。</p>
<p>​            2.是什么：<code>Vue</code>在关键时刻帮我们调用的一些<strong>特殊名称的函数</strong>。</p>
<p>​            3.生命周期函数的名字不可更改，但函数的具体内容是程序员根据需求编写的。</p>
<p>​            4.生命周期函数中的<code>this</code>指向是<code>vm</code> 或 <code>组件实例对象</code>。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Vue完成模板解析并把初始的真实dom元素放入页面后（挂载完毕）调用mounted//只调用一次mounted() &#123;    setInterval(()=&gt;&#123;        this.opacity -= 0.01        if(this.opacity &lt;= 0) &#123;            this.opacity = 1        &#125;    &#125;, 16)&#125; </span></span><br></pre></td></tr></table></figure>

<img src="https://gitee.com/jxgitee/pictures2/raw/master/202112091026954.png" alt="生命周期" style="zoom: 50%;" />

<p>常用的生命周期钩子：</p>
<p>​            1.<code>mounted</code>: 发送<code>ajax</code>请求、启动定时器、绑定自定义事件、订阅消息等【初始化操作】。</p>
<p>​            2.<code>beforeDestroy</code>: 清除定时器、解绑自定义事件、取消订阅消息等【收尾工作】。</p>
<p>​            3.<code>beforeCreate</code>：指的是数据代理、数据监测创建之前。</p>
<p>​            4.<code>destroy()</code>：销毁了所有子组件及自定义事件，事件监听。原生js事件不受影响。</p>
<p>关于销毁<code>Vue</code>实例</p>
<p>​            1.销毁后借助<code>Vue</code>开发者工具看不到任何信息。</p>
<p>​            2.销毁后自定义事件会失效，但原生<code>DOM</code>事件依然有效。</p>
<p>​            3.一般不会在<code>beforeDestroy</code>操作数据，因为即便操作数据，<strong>也不会再触发更新流程了</strong>。</p>
<h3 id="3-4-非单文件组件"><a href="#3-4-非单文件组件" class="headerlink" title="3.4 非单文件组件"></a>3.4 非单文件组件</h3><p>组件：用来实现<strong>局部</strong>特定功能效果的代码集合。</p>
<p>组件化：当应用中的js都以多组件的方式来编写，那这个应用就是一个组件化的应用。</p>
<p><img src="https://gitee.com/jxgitee/pictures2/raw/master/202112091551819.png" alt="image-20211209155107612"></p>
<p><img src="https://gitee.com/jxgitee/pictures2/raw/master/202112091551865.png" alt="image-20211209155141597"></p>
<p><img src="https://gitee.com/jxgitee/pictures2/raw/master/202112091552044.png" alt="image-20211209155206913"></p>
<p>Vue中使用组件的三大步骤：</p>
<p>​          <strong>一、定义组件(创建组件)</strong></p>
<p>​          <strong>二、注册组件</strong></p>
<p>​          <strong>三、使用组件(写组件标签)</strong></p>
<p>​      一、如何定义一个组件？</p>
<p>​            使用 Vue.extend(options) <code>创建</code>，其中<code>options</code>和<code>new Vue(options)</code>时传入的那个<code>options</code>几乎一样，但也有点区别；</p>
<p>​            区别如下：</p>
<p>​                1.<code>el</code>不要写，为什么？ ——— 最终所有的组件都要经过一个vm的管理，由vm中的 el 决定服务哪个容器。</p>
<p>​                2.<code>data</code>必须写成函数，为什么？ ———— 避免组件被复用时，数据存在引用关系。</p>
<p>​            备注：使用<code>template</code>可以配置组件结构。</p>
<p>​      二、如何注册组件？</p>
<p>​              1.<code>局部注册</code>：靠<code>new Vue</code>的时候传入<code>components</code>选项</p>
<p>​              2.<code>全局注册</code>：靠<code>Vue.component(&#39;组件名&#39;,组件)</code></p>
<p>​      三、编写组件标签：</p>
<p>​              <code>&lt;school&gt;&lt;/school&gt;</code></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span>    <span class="comment">&lt;!--3.使用组件--&gt;</span>    <span class="tag">&lt;<span class="name">hello</span>&gt;</span><span class="tag">&lt;/<span class="name">hello</span>&gt;</span>    <span class="tag">&lt;<span class="name">school</span>&gt;</span><span class="tag">&lt;/<span class="name">school</span>&gt;</span>    <span class="tag">&lt;<span class="name">hr</span>&gt;</span>    <span class="tag">&lt;<span class="name">student</span>&gt;</span><span class="tag">&lt;/<span class="name">student</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root2&quot;</span>&gt;</span>    <span class="tag">&lt;<span class="name">hello</span>&gt;</span><span class="tag">&lt;/<span class="name">hello</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-handlebars"><span class="language-xml">    Vue.config.productionTip = false    //1.创建school组件    const school = Vue.extend(&#123;        //el:&quot;#root&quot;,   组件定义时，一定不要写el配置项，因为最终所有的组件都要被一个vm管理，由vm决定服务        template: `          <span class="tag">&lt;<span class="name">div</span>&gt;</span>              <span class="tag">&lt;<span class="name">h1</span>&gt;</span></span><span class="template-variable">&#123;&#123;<span class="name">schoolName</span>&#125;&#125;</span><span class="language-xml"><span class="tag">&lt;/<span class="name">h1</span>&gt;</span>              <span class="tag">&lt;<span class="name">h1</span>&gt;</span></span><span class="template-variable">&#123;&#123;<span class="name">address</span>&#125;&#125;</span><span class="language-xml"><span class="tag">&lt;/<span class="name">h1</span>&gt;</span>          <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;showName&quot;</span>&gt;</span>点我显示学校名字<span class="tag">&lt;/<span class="name">button</span>&gt;</span>          <span class="tag">&lt;/<span class="name">div</span>&gt;</span>        `,        data() &#123;            return &#123;                schoolName: &quot;SHU&quot;,                address: &#x27;上大路99号&#x27;            &#125;        &#125;,        methods: &#123;            showName() &#123;                alert(this.schoolName)            &#125;        &#125;    &#125;)    //1.创建student组件    const student = Vue.extend(&#123;        template: `          <span class="tag">&lt;<span class="name">div</span>&gt;</span>              <span class="tag">&lt;<span class="name">h1</span>&gt;</span></span><span class="template-variable">&#123;&#123;<span class="name">studentName</span>&#125;&#125;</span><span class="language-xml"><span class="tag">&lt;/<span class="name">h1</span>&gt;</span>              <span class="tag">&lt;<span class="name">h1</span>&gt;</span></span><span class="template-variable">&#123;&#123;<span class="name">age</span>&#125;&#125;</span><span class="language-xml"><span class="tag">&lt;/<span class="name">h1</span>&gt;</span>          <span class="tag">&lt;/<span class="name">div</span>&gt;</span>        `,        data() &#123;            return &#123;                studentName: &#x27;zjx&#x27;,                age: 19            &#125;        &#125;    &#125;)    //创建组件    const hello = Vue.extend(&#123;        template: `            <span class="tag">&lt;<span class="name">h1</span>&gt;</span>你好！<span class="tag">&lt;/<span class="name">h1</span>&gt;</span>        `,        data() &#123;            return &#123;            &#125;        &#125;    &#125;)    //注册全局组件    Vue.component(&#x27;hello&#x27;, hello)    //创建vm    new Vue(&#123;        el: &quot;#root&quot;,        //2.注册组件（局部注册）        components: &#123;            school,            student        &#125;    &#125;)    //创建vm    new Vue(&#123;        el: &quot;#root2&quot;    &#125;)</span></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>几个注意点：</p>
<p>​          1.关于组件名:</p>
<p>​                <strong>一个</strong>单词组成：</p>
<p>​                      第一种写法(首字母小写)：<code>school</code></p>
<p>​                      第二种写法(首字母大写)：<code>School</code></p>
<p>​                <strong>多个</strong>单词组成：</p>
<p>​                      第一种写法(<code>kebab-case</code>命名)：<code>my-school</code></p>
<p>​                      第二种写法(<code>CamelCase</code>命名)：<code>MySchool</code> (需要Vue脚手架支持)！！！</p>
<p>​                备注：</p>
<p>​                    (1).组件名尽可能回避HTML中已有的元素名称，例如：h2、H2都不行。</p>
<p>​                    (2).可以使用name配置项指定组件在开发者工具中呈现的名字。</p>
<p>​         2.关于组件标签:</p>
<p>​                第一种写法：<code>&lt;school&gt;&lt;/school&gt;</code></p>
<p>​                第二种写法：<code>&lt;school/&gt;</code></p>
<p>​                备注：不用使用脚手架时，<code>&lt;school/&gt;</code>会导致<strong>后续组件不能渲染。</strong></p>
<p>​        3.一个简写方式：</p>
<p>​                <code>const school = Vue.extend(options) 可简写为：const school = options</code></p>
</blockquote>
<p><strong>组件嵌套</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-handlebars"><span class="language-xml">    Vue.config.productionTip = false    //定义student组件    const student = Vue.extend(&#123;        template: `          <span class="tag">&lt;<span class="name">div</span>&gt;</span>          <span class="tag">&lt;<span class="name">h1</span>&gt;</span></span><span class="template-variable">&#123;&#123;<span class="name">studentName</span>&#125;&#125;</span><span class="language-xml"><span class="tag">&lt;/<span class="name">h1</span>&gt;</span>          <span class="tag">&lt;<span class="name">h1</span>&gt;</span></span><span class="template-variable">&#123;&#123;<span class="name">age</span>&#125;&#125;</span><span class="language-xml"><span class="tag">&lt;/<span class="name">h1</span>&gt;</span>          <span class="tag">&lt;/<span class="name">div</span>&gt;</span>        `,        data() &#123;            return &#123;                studentName: &#x27;zjx&#x27;,                age: 19            &#125;        &#125;    &#125;)    //定义school组件    const school = Vue.extend(&#123;        template: `          <span class="tag">&lt;<span class="name">div</span>&gt;</span>              <span class="tag">&lt;<span class="name">h1</span>&gt;</span></span><span class="template-variable">&#123;&#123;<span class="name">schoolName</span>&#125;&#125;</span><span class="language-xml"><span class="tag">&lt;/<span class="name">h1</span>&gt;</span>              <span class="tag">&lt;<span class="name">h1</span>&gt;</span></span><span class="template-variable">&#123;&#123;<span class="name">address</span>&#125;&#125;</span><span class="language-xml"><span class="tag">&lt;/<span class="name">h1</span>&gt;</span>              <span class="tag">&lt;<span class="name">student</span>&gt;</span><span class="tag">&lt;/<span class="name">student</span>&gt;</span>              <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;showName&quot;</span>&gt;</span>点我显示学校名字<span class="tag">&lt;/<span class="name">button</span>&gt;</span>          <span class="tag">&lt;/<span class="name">div</span>&gt;</span>        `,        data() &#123;            return &#123;                schoolName: &quot;SHU&quot;,                address: &#x27;上大路99号&#x27;            &#125;        &#125;,        methods: &#123;            showName() &#123;                alert(this.schoolName)            &#125;        &#125;,        components: &#123;            /*只能在school的template中调用*/            student: student        &#125;    &#125;)    //定义hello组件    const hello = &#123;        template: `<span class="tag">&lt;<span class="name">h1</span>&gt;</span></span><span class="template-variable">&#123;&#123;<span class="name">msg</span>&#125;&#125;</span><span class="language-xml"><span class="tag">&lt;/<span class="name">h1</span>&gt;</span>`,        data() &#123;            return &#123;                msg: &#x27;Welcome to Vue!&#x27;            &#125;        &#125;    &#125;    //定义app组件    const app = Vue.extend(&#123;        template: `          <span class="tag">&lt;<span class="name">div</span>&gt;</span>          <span class="tag">&lt;<span class="name">hello</span>&gt;</span><span class="tag">&lt;/<span class="name">hello</span>&gt;</span>          <span class="tag">&lt;<span class="name">school</span>&gt;</span><span class="tag">&lt;/<span class="name">school</span>&gt;</span>          <span class="tag">&lt;/<span class="name">div</span>&gt;</span>        `,        components: &#123;            hello,            school        &#125;    &#125;)    //创建vm    new Vue(&#123;        template: `          <span class="tag">&lt;<span class="name">app</span>&gt;</span><span class="tag">&lt;/<span class="name">app</span>&gt;</span>        `,        el: &quot;#root&quot;,        components: &#123;            app        &#125;    &#125;)</span></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>



<blockquote>
<p>关于<code>VueComponent</code>：</p>
<p>​            1.<code>school</code>组件<strong>本质</strong>是一个名为<code>VueComponent</code>的<strong>构造函数</strong>，且不是程序员定义的，是<code>Vue.extend</code>生成的。</p>
<p>​            2.我们只需要写<code>&lt;school/&gt;</code>或<code>&lt;school&gt;&lt;/school&gt;</code>，Vue解析时会帮我们创建school组件的实例对象，</p>
<p>​              即Vue帮我们执行的：new VueComponent(options)。</p>
<p>​            3.<strong>特别注意</strong>：每次调用Vue.extend，返回的都是一个<strong>全新</strong>的VueComponent<strong>！！！！</strong></p>
<p>​            4.关于<code>this</code>指向：</p>
<p>​                (1).<strong>组件配置</strong>中：</p>
<p>​                      data函数、methods中的函数、watch中的函数、computed中的函数 它们的this均是【<strong>VueComponent实例对象</strong>】。</p>
<p>​                (2).<strong>new Vue(options)配置</strong>中：</p>
<p>​                      data函数、methods中的函数、watch中的函数、computed中的函数 它们的this均是【<strong>Vue实例对象</strong>】。</p>
<p>​            5.VueComponent的实例对象，以后简称<code>vc</code>（也可称之为：<strong>组件实例对象</strong>）。</p>
<p>​              Vue的实例对象，以后简称<code>vm</code>。</p>
</blockquote>
<blockquote>
<p>1.一个重要的内置关系：<code>VueComponent.prototype.__proto__ === Vue.prototype</code></p>
<p>2.为什么要有这个关系：让组件实例对象（<code>vc</code>）可以访问到 <strong>Vue原型上的属性、方法。</strong></p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(app.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">__proto__</span> === <span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>) <span class="comment">//true</span></span><br></pre></td></tr></table></figure>

<p><strong>Vue与VueComponent的关系图：</strong></p>
<img src="https://gitee.com/jxgitee/pictures2/raw/master/202112101000909.png" alt="image-20211210100032683" style="zoom: 33%;" />

<blockquote>
<p>其实就是<code>vue</code>上的东西<code>vc</code>也可以用。</p>
</blockquote>
<h3 id="3-5-单文件组件"><a href="#3-5-单文件组件" class="headerlink" title="3.5 单文件组件"></a>3.5 单文件组件</h3><p>创建<code>School.vue</code>：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;&lt;!--  组件结构--&gt;  &lt;div class=&quot;demo&quot;&gt;    &lt;h1&gt;&#123;&#123;schoolName&#125;&#125;&lt;/h1&gt;    &lt;h1&gt;&#123;&#123;address&#125;&#125;&lt;/h1&gt;    &lt;button @click=&quot;showName&quot;&gt;点我显示学校名字&lt;/button&gt;  &lt;/div&gt;&lt;/template&gt;&lt;script&gt;  /*// 组件交互  //分别暴露  // export const school = Vue.extend(&#123;  const school = Vue.extend(&#123;    data() &#123;      return &#123;        schoolName: &quot;SHU&quot;,        address: &#x27;上大路99号&#x27;      &#125;    &#125;,    methods: &#123;      showName() &#123;        alert(this.schoolName)      &#125;    &#125;  &#125;)  //统一暴露  // export &#123;school&#125;  //默认暴露  export default school*/  export default &#123;    name: &#x27;school&#x27;,    data() &#123;      return &#123;        schoolName: &quot;SHU&quot;,        address: &#x27;上大路99号&#x27;      &#125;    &#125;,    methods: &#123;      showName() &#123;        alert(this.schoolName)      &#125;    &#125;  &#125;&lt;/script&gt;&lt;style&gt;  /*组件样式*/  .demo &#123;    background-color: antiquewhite;  &#125;&lt;/style&gt;</span><br></pre></td></tr></table></figure>



<p>创建<code>Student.vue</code>：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;&lt;!--  组件结构--&gt;  &lt;div class=&quot;demo&quot;&gt;      &lt;h1&gt;&#123;&#123;studentName&#125;&#125;&lt;/h1&gt;      &lt;h1&gt;&#123;&#123;age&#125;&#125;&lt;/h1&gt;  &lt;/div&gt;&lt;/template&gt;&lt;script&gt;  export default &#123;    name: &#x27;student&#x27;,    data() &#123;      return &#123;        studentName: &#x27;zjx&#x27;,        age: 19      &#125;    &#125;,    methods: &#123;      showName() &#123;        alert(this.studentName)      &#125;    &#125;  &#125;&lt;/script&gt;&lt;style&gt;  /*组件样式*/  .demo &#123;    background-color: antiquewhite;  &#125;&lt;/style&gt;</span><br></pre></td></tr></table></figure>



<p>创建<code>App.vue</code>：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;  &lt;div&gt;    &lt;School&gt;&lt;/School&gt;    &lt;Student&gt;&lt;/Student&gt;  &lt;/div&gt;&lt;/template&gt;&lt;script&gt;//引入组件import School from &quot;./School&quot;;import Student from &quot;./Student&quot;;export default &#123;  name: &quot;App&quot;,  components: &#123;    School,    Student  &#125;&#125;&lt;/script&gt;&lt;style scoped&gt;&lt;/style&gt;</span><br></pre></td></tr></table></figure>



<p>创建<code>main.js</code>：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&quot;./App&quot;</span>;<span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;    <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,    <span class="attr">template</span>: <span class="string">`&lt;App&gt;&lt;/App&gt;`</span>,    <span class="attr">components</span>: &#123;        <span class="title class_">App</span>    &#125;&#125;)</span><br></pre></td></tr></table></figure>



<p>创建<code>index.html</code>：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">head</span>&gt;</span>    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span>    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">head</span>&gt;</span><span class="tag">&lt;<span class="name">body</span>&gt;</span><span class="comment">&lt;!--创建一个容器--&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;./main.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span><span class="tag">&lt;/<span class="name">body</span>&gt;</span><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>以上在无脚手架情况下无法使用。</p>
</blockquote>
<h2 id="第二章、Vue脚手架"><a href="#第二章、Vue脚手架" class="headerlink" title="第二章、Vue脚手架"></a>第二章、Vue脚手架</h2><h3 id="1-1-脚手架安装与执行"><a href="#1-1-脚手架安装与执行" class="headerlink" title="1.1 脚手架安装与执行"></a>1.1 脚手架安装与执行</h3><p><strong>具体步骤</strong> </p>
<p>第一步（仅第一次执行）：全局安装@vue&#x2F;cli。 <code>npm install -g @vue/cli</code> </p>
<p>第二步：切换到你要创建项目的目录，然后使用命令创建项目 <code>vue create xxxx</code> </p>
<p>第三步：启动项目 <code>npm run serve</code> </p>
<blockquote>
<p>node.js 版本太高？<code>set NODE_OPTIONS=--openssl-legacy-provider</code></p>
</blockquote>
<p>备注： </p>
<ol>
<li><p>如出现下载缓慢请配置 npm 淘宝镜像：<code>npm config set registry https://registry.npm.taobao.org</code> </p>
</li>
<li><p>Vue 脚手架隐藏了所有 webpack 相关的配置，请执行：<code>vue inspect &gt; output.js</code></p>
</li>
</ol>
<img src="https://gitee.com/jxgitee/pictures2/raw/master/202112102036272.png" alt="image-20211210203629156" style="zoom: 33%;" />

<h3 id="1-2-不同版本Vue"><a href="#1-2-不同版本Vue" class="headerlink" title="1.2 不同版本Vue"></a>1.2 不同版本Vue</h3><p>  关于不同版本的Vue：</p>
<p>​    1.<code>vue.js</code>与<code>vue.runtime.xxx.js</code>的区别：</p>
<p>​        (1).<code>vue.js</code>是完整版的<code>Vue</code>，包含：核心功能 + 模板解析器。</p>
<p>​        (2).<code>vue.runtime.xxx.js</code>是运行版的<code>Vue</code>，只包含：核心功能，没有模板解析器。</p>
<p>​    2.因为<code>vue.runtime.xxx.js</code>没有模板解析器，所以不能使用<code>template</code>配置项，需要使用<code>render</code>函数接收到的<code>createElement</code>函数去<strong>指定具体内容</strong>。render 帮你解析到html 中。</p>
<h3 id="1-3-修改默认配置"><a href="#1-3-修改默认配置" class="headerlink" title="1.3 修改默认配置"></a>1.3 修改默认配置</h3><p>Vue 脚手架隐藏了所有 webpack 相关的配置，请执行：<code>vue inspect &gt; output.js</code></p>
<p>创建<code>vue.config.js</code>来修改相关配置，详细配置见<a target="_blank" rel="noopener" href="https://cli.vuejs.org/zh/config/#%E5%85%A8%E5%B1%80-cli-%E9%85%8D%E7%BD%AE">配置参考 | Vue CLI (vuejs.org)</a></p>
<h3 id="1-4-ref-属性"><a href="#1-4-ref-属性" class="headerlink" title="1.4 ref 属性"></a>1.4 ref 属性</h3><ol>
<li>被用来给元素或子组件注册引用信息（id的替代者）</li>
<li>应用在<strong>html标签</strong>上获取的是<strong>真实DOM元素</strong>，应用在<strong>组件标签</strong>上是组件实例对象（<strong>vc</strong>）</li>
<li>使用方式：<ol>
<li>打标识：<code>&lt;h1 ref=&quot;xxx&quot;&gt;.....&lt;/h1&gt;</code> 或 <code>&lt;School ref=&quot;xxx&quot;&gt;&lt;/School&gt;</code></li>
<li>获取：<code>this.$refs.xxx</code></li>
</ol>
</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span>  <span class="tag">&lt;<span class="name">div</span>&gt;</span>    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./assets/logo.png&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;logo&quot;</span>&gt;</span>    <span class="tag">&lt;<span class="name">School</span>&gt;</span><span class="tag">&lt;/<span class="name">School</span>&gt;</span>    <span class="tag">&lt;<span class="name">Student</span> <span class="attr">ref</span>=<span class="string">&quot;stu&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">Student</span>&gt;</span>    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;showDom&quot;</span>&gt;</span>点我输出上面的DOM<span class="tag">&lt;/<span class="name">button</span>&gt;</span>  <span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">template</span>&gt;</span><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"><span class="comment">//引入组件import School from &quot;./components/School&quot;;import Student from &quot;./components/Student&quot;;export default &#123;  name: &quot;App&quot;,  components: &#123;    School,    Student  &#125;,  methods: &#123;    showDom() &#123;      console.log(this.$refs.stu) //输出vc组件    &#125;  &#125;&#125;</span></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h3 id="1-5-props配置项"><a href="#1-5-props配置项" class="headerlink" title="1.5 props配置项"></a>1.5 props配置项</h3><ol>
<li><p>功能：让组件接收外部传过来的数据</p>
<blockquote>
<p>主要作用：实现父子组件间的通信。</p>
</blockquote>
</li>
<li><p>传递数据：<code>&lt;Demo name=&quot;xxx&quot;/&gt;</code></p>
</li>
<li><p>接收数据：</p>
<ol>
<li><p>第一种方式（只接收）：<code>props:[&#39;name&#39;] </code></p>
</li>
<li><p>第二种方式（限制类型）：<code>props:&#123;name:String&#125;</code></p>
</li>
<li><p>第三种方式（限制类型、限制必要性、指定默认值）：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">props</span>: &#123;    <span class="attr">studentName</span>: &#123;      <span class="attr">type</span>: <span class="title class_">String</span>, <span class="comment">//类型为String      required: true //该参数必须传    &#125;,    age: &#123;      type: Number, //类型为Number      default: 18 //默认，可以不传参    &#125;  &#125;</span></span><br></pre></td></tr></table></figure></li>
</ol>
<blockquote>
<p>备注：props是只读的，Vue底层会监测你对props的修改，如果进行了修改，就会发出<strong>警告</strong>，若业务需求确实需要修改，那么请复制props的内容到data中一份，然后去修改data中的数据。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;h2&gt;&#123;&#123; myAge+<span class="number">1</span> &#125;&#125;&lt;<span class="regexp">/h2&gt;/</span><span class="regexp">/...data() &#123; return &#123;   myAge: this.age /</span><span class="regexp">/使用中间变量，不直接修改age，因为传过来的age, vue不支持直接修改 &#125;&#125;</span></span><br></pre></td></tr></table></figure></blockquote>
</li>
</ol>
<h3 id="1-6-mixin-混入"><a href="#1-6-mixin-混入" class="headerlink" title="1.6 mixin(混入)"></a>1.6 mixin(混入)</h3><ol>
<li><p>功能：可以把多个组件共用的配置提取成一个混入对象</p>
<blockquote>
<p>如果项目当中出现很多结构类似的功能，想到组件复用。</p>
<p>里面可以包含以往所有的 vm 属性。</p>
</blockquote>
</li>
<li><p>使用方式：</p>
<p>第一步定义混合：创建 <code>myMixin.js</code> 文件</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> mixin1 = &#123;    <span class="attr">methods</span>: &#123;        <span class="title function_">showName</span>(<span class="params"></span>) &#123;            <span class="title function_">alert</span>(<span class="variable language_">this</span>.<span class="property">name</span>)        &#125;    &#125;&#125;<span class="keyword">export</span> <span class="keyword">const</span> mixin2 = &#123;    <span class="title function_">data</span>(<span class="params"></span>) &#123;        <span class="keyword">return</span> &#123;            <span class="attr">x</span>: <span class="number">1</span>,            <span class="attr">y</span>: <span class="number">100</span>        &#125;    &#125;&#125;</span><br></pre></td></tr></table></figure>

<p>第二步使用混入：</p>
<p>​    全局混入：<code>Vue.mixin(xxx)</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//在main.js中import &#123;mixin1&#125; from &quot;@/mixin&quot;;Vue.mixin(mixin1)</span></span><br></pre></td></tr></table></figure>

<p>​    局部混入：<code>mixins:[ xxx ]    </code>    </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//在vue中import &#123;mixin1&#125; from &quot;@/mixin&quot;;mixins: [mixin1]</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="1-7-插件"><a href="#1-7-插件" class="headerlink" title="1.7 插件"></a>1.7 插件</h3><ol>
<li><p>功能：用于增强Vue</p>
</li>
<li><p>本质：包含<code>install</code>方法的一个对象，install的第一个参数是Vue，第二个以后的参数是插件使用者传递的数据。</p>
</li>
<li><p>定义插件：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">对象.<span class="property">install</span> = <span class="keyword">function</span> (<span class="params">Vue, options</span>) &#123;    <span class="comment">// 1. 添加全局过滤器    Vue.filter(....)    // 2. 添加全局指令    Vue.directive(....)    // 3. 配置全局混入(合)    Vue.mixin(....)    // 4. 添加实例方法    Vue.prototype.$myMethod = function () &#123;...&#125;    Vue.prototype.$myProperty = xxxx&#125;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>使用插件：<code>Vue.use()</code></p>
<p>在<code>main.js</code>方法中：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> plugin <span class="keyword">from</span> <span class="string">&quot;@/plugin&quot;</span>;<span class="title class_">Vue</span>.<span class="title function_">use</span>(plugin)</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="1-8-scoped样式"><a href="#1-8-scoped样式" class="headerlink" title="1.8 scoped样式"></a>1.8 scoped样式</h3><ol>
<li>作用：让样式在局部生效，防止冲突。</li>
<li>写法：<code>&lt;style scoped&gt;</code></li>
</ol>
<h3 id="1-9-todoList案例"><a href="#1-9-todoList案例" class="headerlink" title="1.9 todoList案例"></a>1.9 todoList案例</h3><ol>
<li><p>组件化编码流程：</p>
<p>​    (1).拆分静态组件：组件要按照功能点拆分，命名不要与html元素冲突。</p>
<p>​    (2).实现动态组件：考虑好数据的存放位置，数据是一个组件在用，还是一些组件在用：</p>
<p>​            1).一个组件在用：放在组件自身即可。</p>
<p>​            2). 一些组件在用：放在他们共同的父组件上（<span style="color:red">状态提升</span>）。</p>
<p>​    (3).实现交互：从绑定事件开始。</p>
</li>
<li><p><code>props</code>适用于：</p>
<p>​    (1).父组件 &#x3D;&#x3D;&gt; 子组件 通信</p>
<p>​    (2).子组件 &#x3D;&#x3D;&gt; 父组件 通信（<strong>要求父先给子一个函数</strong>）</p>
</li>
<li><p>使用<code>v-model</code>时要切记：<strong>v-model绑定的值不能是props传过来的值</strong>，因为props是不可以修改的！</p>
</li>
<li><p>props传过来的若是对象类型的值，修改对象中的属性时Vue不会报错，但不推荐这样做。</p>
</li>
</ol>
<h3 id="2-0-webStorage"><a href="#2-0-webStorage" class="headerlink" title="2.0 webStorage"></a>2.0 webStorage</h3><ol>
<li><p>存储内容大小一般支持5MB左右（不同浏览器可能还不一样）</p>
</li>
<li><p>浏览器端通过 Window.sessionStorage 和 Window.localStorage 属性来实现本地存储机制。</p>
</li>
<li><p>相关API：</p>
<ol>
<li><p><code>xxxxxStorage.setItem(&#39;key&#39;, &#39;value&#39;);</code><br>该方法接受一个键和值作为参数，会把键值对添加到存储中，如果键名存在，则更新其对应的值。</p>
</li>
<li><p><code>xxxxxStorage.getItem(&#39;person&#39;);</code></p>
<p>​        该方法接受一个键名作为参数，返回键名对应的值。</p>
</li>
<li><p><code>xxxxxStorage.removeItem(&#39;key&#39;);</code></p>
<p>​        该方法接受一个键名作为参数，并把该键名从存储中删除。</p>
</li>
<li><p><code> xxxxxStorage.clear()</code></p>
<p>​        该方法会清空存储中的所有数据。</p>
</li>
</ol>
</li>
<li><p>备注：</p>
<ol>
<li>SessionStorage存储的内容会随着浏览器窗口关闭而消失。</li>
<li>LocalStorage存储的内容，需要手动清除才会消失。</li>
<li><code>xxxxxStorage.getItem(xxx)</code>如果xxx对应的value获取不到，那么getItem的返回值是null。</li>
<li><code>JSON.parse(null)</code>的结果依然是null。</li>
<li><code>JSON.stringify(item)</code>用于将item转换为json格式数据。</li>
</ol>
</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;save()&quot;</span>&gt;</span>点我存储<span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;read()&quot;</span>&gt;</span>点我读取<span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;del()&quot;</span>&gt;</span>点我删除<span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;clear()&quot;</span>&gt;</span>点我清空<span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript">    <span class="keyword">function</span> <span class="title function_">save</span>(<span class="params"></span>) &#123;        <span class="keyword">let</span> msg = [<span class="string">&#x27;aa&#x27;</span>, <span class="string">&#x27;bb&#x27;</span>]        <span class="keyword">let</span> person = &#123;            <span class="attr">name</span>: <span class="string">&#x27;zjx&#x27;</span>,            <span class="attr">age</span>: <span class="number">100</span>        &#125;        <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;msg&#x27;</span>, <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(msg))        <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;person&#x27;</span>, <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(person))    &#125;    <span class="keyword">function</span> <span class="title function_">read</span>(<span class="params"></span>) &#123;        <span class="keyword">let</span> person = <span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;person&#x27;</span>) <span class="comment">//删除后读取为null        console.log(person)        console.log(localStorage.getItem(&#x27;msg&#x27;))    &#125;    function del() &#123;        localStorage.removeItem(&#x27;person&#x27;)    &#125;    function clear() &#123;        localStorage.clear()    &#125;</span></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>





<h3 id="2-1-组件自定义事件"><a href="#2-1-组件自定义事件" class="headerlink" title="2.1 组件自定义事件"></a>2.1 组件自定义事件</h3><p>绑定：在<code>App.vue</code>的<code>template</code>中：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;  &lt;div class=&quot;app&quot;&gt;    &lt;img src=&quot;./assets/logo.png&quot; alt=&quot;logo&quot;&gt;    &lt;!-- 通过父组件给子组件传递函数类型的props实现：子给父传递数据   --&gt;    &lt;School :getSchoolName=&quot;getSchoolName&quot;/&gt;    &lt;!-- 通过父组件给子组件绑定自定义事件来实现：子给父传递数据 （第一种方法：使用@/v-on）  --&gt;&lt;!--    &lt;Student v-on:itjx=&quot;getStudentName&quot;/&gt;--&gt;&lt;!--    &lt;Student @itjx=&quot;getStudentName&quot;/&gt;--&gt;&lt;!--    &lt;Student v-on:itjx.once=&quot;getStudentName&quot;/&gt;--&gt;    &lt;!-- 通过父组件给子组件绑定自定义事件来实现：子给父传递数据 （第二种方法：使用ref）  --&gt;    &lt;Student ref=&quot;student&quot;/&gt;  &lt;/div&gt;&lt;/template&gt;...&lt;script&gt;    ...  methods: &#123;    getSchoolName(value) &#123;      console.log(&#x27;getSchoolName()&#x27;, value)    &#125;,    getStudentName(value, ...args) &#123;      console.log(&#x27;getStudentName()&#x27;, value, args)    &#125;  &#125;,  mounted() &#123;    //灵活性更强    this.$refs.student.$on(&#x27;itjx&#x27;, this.getStudentName)    //只触发一次怎么办？    this.$refs.student.$once(&#x27;itjx&#x27;, this.getStudentName)  &#125;&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>调用：在<code>Student.vue</code>中：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;  &lt;div class=&quot;demo&quot;&gt;    &lt;h2&gt;学生姓名：&#123;&#123; name &#125;&#125;&lt;/h2&gt;    &lt;h2&gt;&#123;&#123; age &#125;&#125;&lt;/h2&gt;    &lt;button @click=&quot;sendStudentName&quot;&gt;点击获取学生姓名&lt;/button&gt;  &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default &#123;  name: &#x27;student&#x27;,  data() &#123;    return &#123;      age: 19,      name: &quot;zjx&quot;    &#125;  &#125;,  methods: &#123;    sendStudentName() &#123;      //出发Student组件实例上的itjx事件      this.$emit(&#x27;itjx&#x27;, this.name, &#x27;hhhhh&#x27;, &#x27;q&#x27;)    &#125;  &#125;&#125;&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<p><strong>解绑</strong>：在对应的方法中调用<code>this.$off(..)</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">sendStudentName</span>(<span class="params"></span>) &#123;    <span class="comment">//出发Student组件实例上的itjx事件    this.$emit(&#x27;itjx&#x27;, this.name)    this.$emit(&#x27;demo&#x27;)&#125;,offBind() &#123;    this.$off(&#x27;itjx&#x27;) //只适用于解绑一个自定义事件    this.$off([&#x27;itjx&#x27;, &#x27;demo&#x27;]) //解绑多个自定义事件，用数组    this.$off() //解绑所有自定义事件&#125;</span></span><br></pre></td></tr></table></figure>



<p><strong>总结</strong>：</p>
<ol>
<li><p>一种组件间通信的方式，适用于：<strong style="color:red">子组件 &#x3D;&#x3D;&#x3D;&gt; 父组件</strong></p>
</li>
<li><p>使用场景：A是父组件，B是子组件，B想给A传数据，那么就要在A中给B绑定自定义事件（<span style="color:red">事件的回调在A中</span>）。</p>
</li>
<li><p>绑定自定义事件：</p>
<ol>
<li><p>第一种方式，在<strong>父组件</strong>中：<code>&lt;Demo @atguigu=&quot;test&quot;/&gt;</code>  或 <code>&lt;Demo v-on:atguigu=&quot;test&quot;/&gt;</code></p>
</li>
<li><p>第二种方式，在<strong>父组件</strong>中：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="title class_">Demo</span> ref=<span class="string">&quot;demo&quot;</span>/&gt;......<span class="title function_">mounted</span>(<span class="params"></span>)&#123;   <span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">demo</span>.$on(<span class="string">&#x27;atguigu&#x27;</span>,<span class="variable language_">this</span>.<span class="property">test</span>)&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>若想让自定义事件只能触发一次，可以使用<code>once</code>修饰符，或<code>$once</code>方法。</p>
</li>
</ol>
</li>
<li><p>在<strong>子组件</strong>，触发自定义事件：<code>this.$emit(&#39;atguigu&#39;,数据)</code>    </p>
</li>
<li><p>在<strong>父组件</strong>，解绑自定义事件：<code>this.$off(&#39;atguigu&#39;)</code></p>
</li>
<li><p><strong>组件上也可以绑定原生DOM事件</strong>，需要使用<code>native</code>修饰符。</p>
<p>给原生dom绑定自定义事件没有任何意义，因为没有办法触发 <code>$emit</code> 事件</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--    &lt;Student ref=&quot;student&quot; @click=&quot;show&quot;/&gt; click被当作自定义事件了--&gt;</span><span class="comment">&lt;!--    给组件绑定原来的click需要加上.native--&gt;</span>    <span class="tag">&lt;<span class="name">Student</span> <span class="attr">ref</span>=<span class="string">&quot;student&quot;</span> @<span class="attr">click.native</span>=<span class="string">&quot;show&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>注意：通过<code>this.$refs.xxx.$on(&#39;atguigu&#39;,回调)</code>绑定自定义事件时，回调<span style="color:red">要么配置在methods中</span>，<span style="color:red">要么用箭头函数</span>，否则this指向会出问题！</p>
</li>
</ol>
<h3 id="2-2-全局事件总线（GlobalEventBus）"><a href="#2-2-全局事件总线（GlobalEventBus）" class="headerlink" title="2.2 全局事件总线（GlobalEventBus）"></a>2.2 全局事件总线（GlobalEventBus）</h3><ol>
<li>一种组件间通信的方式，适用于<span style="color:#0aa"><strong>任意组件间通信</strong></span>。</li>
</ol>
<p>​                                                                    全局事件总线<strong>原理图</strong>：</p>
<img src="https://gitee.com/jxgitee/pictures2/raw/master/202112142234263.png" alt="image-20211214223418072" style="zoom: 33%;" />

<ol>
<li><p><strong>安装全局事件总线</strong>：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;	......	<span class="title function_">beforeCreate</span>(<span class="params"></span>) &#123;		<span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">$bus</span> = <span class="variable language_">this</span> <span class="comment">//安装全局事件总线，$bus就是当前应用的vm	&#125;,    ......&#125;)  </span></span><br></pre></td></tr></table></figure>
</li>
<li><p>使用事件总线：</p>
<ol>
<li><p><strong>接收</strong>数据：A组件想接收数据，则在A组件中给$bus绑定自定义事件，事件的<span style="color:red">回调留在A组件自身。</span></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">methods</span>(<span class="params"></span>)&#123;  <span class="title function_">demo</span>(<span class="params">data</span>)&#123;......&#125;&#125;       ......<span class="title function_">mounted</span>(<span class="params"></span>) &#123;  <span class="variable language_">this</span>.<span class="property">$bus</span>.$on(<span class="string">&#x27;xxxx&#x27;</span>,<span class="variable language_">this</span>.<span class="property">demo</span>【函数】)&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>提供</strong>数据：<code>this.$bus.$emit(&#39;xxxx&#39;,数据)</code></p>
</li>
</ol>
</li>
<li><p>最好在<code>beforeDestroy</code>钩子中，用$off去解绑<span style="color:red">当前组件所用到的</span>事件!!!</p>
<blockquote>
<p>注意解绑时不能写<code>this.$bus.$off()</code>，因为这回删除总线上所有的事件。</p>
</blockquote>
</li>
</ol>
<h3 id="2-3-消息订阅与发布（pubsub）"><a href="#2-3-消息订阅与发布（pubsub）" class="headerlink" title="2.3 消息订阅与发布（pubsub）"></a>2.3 消息订阅与发布（pubsub）</h3><ol>
<li><p>一种组件间通信的方式，适用于<span style="color:red">任意组件间通信</span>。</p>
</li>
<li><p>使用步骤：</p>
<ol>
<li><p>安装pubsub：<code>npm i pubsub-js</code></p>
<ol>
<li>引入: <code>import pubsub from &#39;pubsub-js&#39;</code></li>
</ol>
</li>
<li><p>接收数据：A组件想接收数据，则在A组件中订阅消息，订阅的<span style="color:red">回调留在A组件自身。</span></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">methods</span>(<span class="params"></span>)&#123;  <span class="title function_">demo</span>(<span class="params">a, b</span>)&#123;......&#125;&#125;    <span class="comment">//a为事件名    //b为接收的参数......mounted() &#123;  this.pid = pubsub.subscribe(&#x27;xxx&#x27;,this.demo) //订阅消息&#125;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>提供数据：<code>pubsub.publish(&#39;xxx&#39;,数据)</code></p>
</li>
<li><p>最好在beforeDestroy钩子中，用<code>pubsub.unsubscribe(pid)</code>去<span style="color:red">取消订阅。</span></p>
</li>
</ol>
</li>
</ol>
<blockquote>
<p>使用的不多，因为和全局事件总线太相似，而且还要安装第三方库。</p>
</blockquote>
<h3 id="2-4-nextTick"><a href="#2-4-nextTick" class="headerlink" title="2.4 $nextTick"></a>2.4 $nextTick</h3><ol>
<li>语法：<code>this.$nextTick(回调函数)</code></li>
<li>作用：在下一次 DOM 更新结束后执行其指定的回调。</li>
<li>什么时候用：当改变数据后，要基于更新后的新DOM进行某些操作时，要在nextTick所指定的回调函数中执行。<span style="color:red">就是等数据更新后，再执行回调函数。</span></li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//编辑handleEdit(todo) &#123;  this.$set(todo, &#x27;isEdit&#x27;, true)  //等上面的数据更新再执行，否则就会出现数据未更新就获取焦点，那样的话就会获取失败。  //获取焦点到输入框  this.$nextTick(()=&gt;&#123;    this.$refs.inputTitle.focus()  &#125;)&#125;</span></span><br></pre></td></tr></table></figure>



<h3 id="2-5-Vue封装的过度与动画"><a href="#2-5-Vue封装的过度与动画" class="headerlink" title="2.5 Vue封装的过度与动画"></a>2.5 Vue封装的过度与动画</h3><ol>
<li>作用：在插入、更新或移除 DOM元素时，在合适的时候给元素添加样式类名。</li>
<li>图示：</li>
</ol>
<p>​            <img src="https://vuejs.bootcss.com/images/transition.png" alt="Transition Diagram"></p>
<img src="https://gitee.com/jxgitee/pictures2/raw/master/202112152022200.gif" alt="DbGtbtcUod" style="zoom:50%;" />

<ol>
<li><p>写法：</p>
<ol>
<li><p>准备好样式：</p>
<ul>
<li>元素<strong>进入</strong>的样式：<ol>
<li><code>v-enter</code>：进入的起点</li>
<li>v-enter-active：进入<strong>过程中</strong></li>
<li>v-enter-to：进入的终点</li>
</ol>
</li>
<li>元素<strong>离开</strong>的样式：<ol>
<li><code>v-leave</code>：离开的起点</li>
<li>v-leave-active：离开<strong>过程中</strong></li>
<li>v-leave-to：离开的终点</li>
</ol>
</li>
</ul>
</li>
<li><p>使用<code>&lt;transition&gt;</code>包裹要过度的元素，并配置name属性：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;transition name=&quot;hello&quot;&gt;	&lt;h1 v-show=&quot;isShow&quot;&gt;你好啊！&lt;/h1&gt;&lt;/transition&gt;//后面的样式名称也需要变化.hello-enter-active&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>备注：若有多个元素需要过度，则需要使用：<code>&lt;transition-group&gt;</code>，且每个元素都要指定<code>key</code>值。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">transition-group</span> <span class="attr">name</span>=<span class="string">&quot;hello&quot;</span> <span class="attr">appear</span>&gt;</span>  <span class="tag">&lt;<span class="name">h1</span> <span class="attr">v-show</span>=<span class="string">&quot;isShow&quot;</span> <span class="attr">key</span>=<span class="string">&quot;1&quot;</span>&gt;</span>你好！<span class="tag">&lt;/<span class="name">h1</span>&gt;</span>  <span class="tag">&lt;<span class="name">h1</span> <span class="attr">v-show</span>=<span class="string">&quot;isShow&quot;</span> <span class="attr">key</span>=<span class="string">&quot;2&quot;</span>&gt;</span>你好！<span class="tag">&lt;/<span class="name">h1</span>&gt;</span><span class="tag">&lt;/<span class="name">transition-group</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>&lt;transition&gt;</code>标签的属性<code>appear</code>控制页面一开始加载时就有动画。</p>
</li>
</ol>
</li>
<li><p><strong>集成第三方动画库</strong></p>
<p><a target="_blank" rel="noopener" href="https://animate.style/">Animate.css | A cross-browser library of CSS animations.</a></p>
</li>
</ol>
<p>​            引入库：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;animate.css&#x27;</span></span><br></pre></td></tr></table></figure>

<p>​            使用：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">transition-group</span>    <span class="attr">name</span>=<span class="string">&quot;animate__animated animate__bounce&quot;</span>    <span class="attr">appear</span>    <span class="attr">enter-active-class</span>=<span class="string">&quot;animate__shakeX&quot;</span>    <span class="attr">leave-active-class</span>=<span class="string">&quot;animate__jello&quot;</span>    &lt;!<span class="attr">--</span>选择进入和离开时的动画<span class="attr">--</span>&gt;</span>&gt;  <span class="tag">&lt;<span class="name">h1</span> <span class="attr">v-show</span>=<span class="string">&quot;isShow&quot;</span> <span class="attr">key</span>=<span class="string">&quot;1&quot;</span>&gt;</span>你好！<span class="tag">&lt;/<span class="name">h1</span>&gt;</span>  <span class="tag">&lt;<span class="name">h1</span> <span class="attr">v-show</span>=<span class="string">&quot;isShow&quot;</span> <span class="attr">key</span>=<span class="string">&quot;2&quot;</span>&gt;</span>你好！<span class="tag">&lt;/<span class="name">h1</span>&gt;</span><span class="tag">&lt;/<span class="name">transition-group</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h3 id="2-6-vue脚手架配置代理"><a href="#2-6-vue脚手架配置代理" class="headerlink" title="2.6 vue脚手架配置代理"></a>2.6 vue脚手架配置代理</h3><h4 id="2-6-1-方法一"><a href="#2-6-1-方法一" class="headerlink" title="2.6.1 方法一"></a>2.6.1 方法一</h4><p>​    在<code>vue.config.js</code>中添加如下配置：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;    <span class="attr">pages</span>: &#123;        <span class="attr">index</span>: &#123;            <span class="comment">//入口            entry: &#x27;src/main.js&#x27;        &#125;    &#125;,    lintOnSave: false, // 关闭语法检查    //开启代理服务器    devServer: &#123;        proxy: &#x27;http://localhost:5000&#x27;    &#125;&#125;</span></span><br></pre></td></tr></table></figure>

<p>说明：</p>
<ol>
<li>优点：配置简单，请求资源时直接发给前端（8080）即可。</li>
<li>缺点：<strong>不能配置多个代理</strong>，不能灵活的控制请求是否走代理。<strong>只能发给一个指定的代理。</strong></li>
<li>工作方式：若按照上述配置代理，当请求了前端不存在的资源时，那么该请求会转发给服务器 （<strong>优先匹配前端资源</strong>）</li>
</ol>
<h4 id="2-6-2-方法二"><a href="#2-6-2-方法二" class="headerlink" title="2.6.2 方法二"></a>2.6.2 方法二</h4><p>​    编写vue.config.js配置具体代理规则：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;	<span class="attr">devServer</span>: &#123;      <span class="attr">proxy</span>: &#123;      <span class="string">&#x27;/api1&#x27;</span>: &#123;<span class="comment">// 匹配所有以 &#x27;/api1&#x27;开头的请求路径        target: &#x27;http://localhost:5000&#x27;,// 代理目标的基础路径        changeOrigin: true,  //用于控制请求头中的host值，即访问的来源地址，changeOrigin为true时会隐瞒其来源        ws: true, // 用于支持websocket        pathRewrite: &#123;&#x27;^/api1&#x27;: &#x27;&#x27;&#125; //重写路径      &#125;,      &#x27;/api2&#x27;: &#123;// 匹配所有以 &#x27;/api2&#x27;开头的请求路径        target: &#x27;http://localhost:5001&#x27;,// 代理目标的基础路径        changeOrigin: true,        pathRewrite: &#123;&#x27;^/api2&#x27;: &#x27;&#x27;&#125;      &#125;    &#125;  &#125;&#125;/*   changeOrigin设置为true时，服务器收到的请求头中的host为：localhost:5000   changeOrigin设置为false时，服务器收到的请求头中的host为：localhost:8080   changeOrigin默认值为true*/</span></span><br></pre></td></tr></table></figure>

<p>说明：</p>
<ol>
<li>优点：可以配置多个代理，且可以灵活的控制请求是否走代理。</li>
<li>缺点：配置略微繁琐，请求资源时必须加前缀。</li>
</ol>
<h3 id="2-7-插槽"><a href="#2-7-插槽" class="headerlink" title="2.7 插槽"></a>2.7 插槽</h3><ol>
<li><p>作用：让父组件可以向子组件指定位置插入html结构，也是一种组件间通信的方式，适用于 <strong style="color:red">父组件 &#x3D;&#x3D;&#x3D;&gt; 子组件 </strong>。</p>
</li>
<li><p>分类：默认插槽、具名插槽、作用域插槽</p>
</li>
<li><p>使用方式：</p>
<ol>
<li><p>默认插槽：适用于单一内容，所有组件展示的内容的格式均相同。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">父组件中：        &lt;Category&gt;           &lt;div&gt;html结构1&lt;/div&gt;        &lt;/Category&gt;子组件中：        &lt;template&gt;            &lt;div&gt;               &lt;!-- 定义插槽 --&gt;               &lt;slot&gt;插槽默认内容...&lt;/slot&gt;            &lt;/div&gt;        &lt;/template&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>具名插槽：一个插槽可以放多个标签。<strong>html结构可以自由变化（不同组件的展示格式不同）。</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">父组件中：        &lt;Category&gt;            &lt;template v-slot:footer&gt;               &lt;div&gt;html结构2&lt;/div&gt;            &lt;/template&gt;                        &lt;template v-slot:default&gt;                &lt;p&gt;A paragraph for the main content.&lt;/p&gt;                &lt;p&gt;And another one.&lt;/p&gt;            &lt;/template&gt;        &lt;/Category&gt;子组件中：        &lt;template&gt;            &lt;div&gt;               &lt;!-- 定义插槽 --&gt;               &lt;slot name=&quot;center&quot;&gt;插槽默认内容...&lt;/slot&gt;               &lt;slot name=&quot;footer&quot;&gt;插槽默认内容...&lt;/slot&gt;            &lt;/div&gt;        &lt;/template&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>作用域插槽：</p>
<ol>
<li><p>理解：<span style="color:red">数据在组件的自身，但根据数据生成的结构需要组件的使用者来决定。</span>（<code>games</code>数据在<code>Category</code>组件中，但使用数据所遍历出来的结构由<code>App</code>组件决定）</p>
</li>
<li><p>具体编码：必须使用<code>template</code>，传递过来的<code>scopeData</code>是一个对象。</p>
<p>只写<code>v-slot</code>则默认为<code>v-slot:default</code>插槽。</p>
<p>可以给<a target="_blank" rel="noopener" href="https://vuejs.bootcss.com/guide/components-slots.html#%E8%A7%A3%E6%9E%84%E6%8F%92%E6%A7%BD-Prop">解构插槽 Prop</a>：<code>v-slot:default=&quot;&#123;games&#125;&quot;</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">父组件中：&lt;Category title=&quot;游戏&quot;&gt;    &lt;!--   作用域问题：games在Category中 即数据在组件中，不在App中    --&gt;    &lt;!--必须用template scope值为一个对象--&gt;    &lt;template v-slot:default=&quot;itjx&quot;&gt;    	&lt;ul&gt;        	&lt;li v-for=&quot;(item, index) in itjx.games&quot; :key=&quot;index&quot;&gt;&#123;&#123; item &#125;&#125;&lt;/li&gt;        &lt;/ul&gt;    &lt;/template&gt;&lt;/Category&gt;&lt;Category title=&quot;游戏&quot;&gt;    &lt;!--使用es6解构赋值--&gt;    &lt;template v-slot:default=&quot;&#123;games&#125;&quot;&gt;		&lt;ol&gt;    		&lt;li v-for=&quot;(item, index) in games&quot; :key=&quot;index&quot;&gt;&#123;&#123; item &#125;&#125;&lt;/li&gt;        &lt;/ol&gt;    &lt;/template&gt;&lt;/Category&gt;&lt;Category title=&quot;游戏&quot;&gt;    &lt;template v-slot:default=&quot;&#123;games&#125;&quot;&gt;		&lt;h5 v-for=&quot;(item, index) in games&quot; :key=&quot;index&quot;&gt;&#123;&#123; item &#125;&#125;&lt;/h5&gt;    &lt;/template&gt;&lt;/Category&gt;子组件中：&lt;template&gt;	&lt;div&gt;    &lt;slot :games=&quot;games&quot;&gt;&lt;/slot&gt;    &lt;/div&gt;&lt;/template&gt;&lt;script&gt;    export default &#123;        name:&#x27;Category&#x27;,        props:[&#x27;title&#x27;],        //数据在子组件自身        data() &#123;            return &#123;                games:[&#x27;红色警戒&#x27;,&#x27;穿越火线&#x27;,&#x27;劲舞团&#x27;,&#x27;超级玛丽&#x27;]            &#125;        &#125;,    &#125;&lt;/script&gt;</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ol>
</li>
</ol>
<blockquote>
<p>注意点：</p>
<ul>
<li><code>v-slot:header</code> 可以被重写为 <code>#header</code></li>
</ul>
</blockquote>
<h2 id="第三章-、Vuex"><a href="#第三章-、Vuex" class="headerlink" title="第三章 、Vuex"></a>第三章 、Vuex</h2><h3 id="1-概念"><a href="#1-概念" class="headerlink" title="1.概念"></a>1.概念</h3><p>​        在Vue中实现集中式状态（数据）管理的一个Vue插件，对vue应用中多个组件的共享状态进行集中式的管理（读&#x2F;写），也是一种组件间通信的方式，且适用于任意组件间通信。</p>
<p>Vue官方介绍：Vuex 是一个专为 Vue.js 应用程序开发的<strong>状态管理模式</strong>。它采用集中式存储管理应用的所有组件的状态，并以相应的规则保证状态以一种可预测的方式发生变化。</p>
<h3 id="2-何时使用？"><a href="#2-何时使用？" class="headerlink" title="2.何时使用？"></a>2.何时使用？</h3><p>​        <strong>多个组件需要共享数据时。</strong></p>
<img src="C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211219210750808.png" alt="image-20211219210750808" style="zoom: 33%;" />

<img src="https://gitee.com/jxgitee/pictures2/raw/master/202112192108037.png" alt="image-20211219210815885" style="zoom: 25%;" />



<p><strong>原理图</strong>：<code>state</code>就是数据，为一个普通对象。</p>
<img src="https://gitee.com/jxgitee/pictures2/raw/master/202112192133896.png" alt="vuex" style="zoom: 33%;" />

<h3 id="3-搭建vuex环境"><a href="#3-搭建vuex环境" class="headerlink" title="3.搭建vuex环境"></a>3.搭建vuex环境</h3><ol>
<li><p>创建文件：<code>src/store/index.js</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//引入Vue核心库import Vue from &#x27;vue&#x27;//引入Vueximport Vuex from &#x27;vuex&#x27;//应用Vuex插件Vue.use(Vuex)//准备actions对象——响应组件中用户的动作const actions = &#123;&#125;//准备mutations对象——修改state中的数据const mutations = &#123;&#125;//准备state对象——保存具体的数据const state = &#123;&#125;//创建并暴露storeexport default new Vuex.Store(&#123;	actions,	mutations,	state&#125;)</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>在<code>main.js</code>中创建vm时传入<code>store</code>配置项</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">......<span class="comment">//引入storeimport store from &#x27;./store&#x27;......//创建vmnew Vue(&#123;	el:&#x27;#app&#x27;,	render: h =&gt; h(App),	store&#125;)</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="4-基本使用"><a href="#4-基本使用" class="headerlink" title="4.基本使用"></a>4.基本使用</h3><ol>
<li><p>初始化数据、配置<code>actions</code>、配置<code>mutations</code>，操作文件<code>store.js</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//引入Vue核心库import Vue from &#x27;vue&#x27;//引入Vueximport Vuex from &#x27;vuex&#x27;//引用VuexVue.use(Vuex)const actions = &#123;    //响应组件中加的动作    jia(context,value)&#123;        //context包含了        /*        commit: ƒ (_type, _payload, _options)        dispatch: ƒ (_type, _payload, _options)        getters: &#123;&#125;        rootGetters: &#123;&#125;        rootState: &#123;__ob__: Observer&#125;        state: &#123;__ob__: Observer&#125;        */        // console.log(&#x27;actions中的jia被调用了&#x27;,miniStore,value)        context.commit(&#x27;JIA&#x27;,value)    &#125;&#125;const mutations = &#123;    //执行加    JIA(state,value)&#123;        // console.log(&#x27;mutations中的JIA被调用了&#x27;,state,value)        state.sum += value    &#125;&#125;//初始化数据const state = &#123;    sum:0&#125;//创建并暴露storeexport default new Vuex.Store(&#123;·    actions,    mutations,    state,&#125;)</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>组件中读取vuex中的数据：<code>$store.state.sum</code></p>
</li>
<li><p>组件中修改vuex中的数据：<code>$store.dispatch(&#39;action中的方法名&#39;,数据)</code> 或 <code>$store.commit(&#39;mutations中的方法名&#39;,数据)</code></p>
<blockquote>
<p> 备注：若没有网络请求或其他业务逻辑，组件中也可以越过<code>actions</code>，<strong>即不写<code>dispatch</code>，直接编写<code>commit</code></strong></p>
</blockquote>
</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">methods</span>: &#123;  <span class="title function_">increment</span>(<span class="params"></span>) &#123;    <span class="comment">//没有业务逻辑的直接跳过actions，直接commit到mutation    // this.$store.commit(&#x27;JIA&#x27;, this.n)    this.$store.dispatch(&#x27;demo1&#x27;, this.n)  &#125;,  decrement() &#123;    this.$store.commit(&#x27;JIAN&#x27;, this.n)  &#125;,  incrementOdd() &#123;    this.$store.dispatch(&#x27;odd&#x27;, this.n)  &#125;,  incrementWait() &#123;    this.$store.dispatch(&#x27;wait&#x27;, this.n)  &#125;&#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="5-getters的使用"><a href="#5-getters的使用" class="headerlink" title="5.getters的使用"></a>5.getters的使用</h3><ol>
<li><p>概念：当state中的数据需要经过<strong>加工后再使用</strong>时，可以使用getters加工。</p>
</li>
<li><p>在<code>store.js</code>中追加<code>getters</code>配置</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">......<span class="keyword">const</span> getters = &#123;	<span class="title function_">bigSum</span>(<span class="params">state</span>)&#123;		<span class="keyword">return</span> state.<span class="property">sum</span> * <span class="number">10</span>	&#125;&#125;<span class="comment">//创建并暴露storeexport default new Vuex.Store(&#123;	......	getters&#125;)</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>组件中读取数据：<code>$store.getters.bigSum</code></p>
</li>
</ol>
<h3 id="6-四个map方法的使用"><a href="#6-四个map方法的使用" class="headerlink" title="6.四个map方法的使用"></a>6.四个map方法的使用</h3><p><code>key</code>为计算属性的名称，<code>value</code>为从<code>$store</code>读取数据的名称。</p>
<ol>
<li><p><strong>mapState方法：</strong>用于帮助我们映射<code>state</code>中的数据为计算属性</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">computed</span>: &#123;    <span class="comment">//借助mapState生成计算属性：sum、school、subject（对象写法）     ...mapState(&#123;sum:&#x27;sum&#x27;,school:&#x27;school&#x27;,subject:&#x27;subject&#x27;&#125;),             //借助mapState生成计算属性：sum、school、subject（数组写法）    ...mapState([&#x27;sum&#x27;,&#x27;school&#x27;,&#x27;subject&#x27;]),         //取代了下列写法    sum() &#123;      return this.$store.state.sum    &#125;&#125;,</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>mapGetters方法：</strong>用于帮助我们映射<code>getters</code>中的数据为计算属性</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">computed</span>: &#123;    <span class="comment">//借助mapGetters生成计算属性：bigSum（对象写法）    ...mapGetters(&#123;bigSum:&#x27;bigSum&#x27;&#125;),    //借助mapGetters生成计算属性：bigSum（数组写法）    ...mapGetters([&#x27;bigSum&#x27;])        //取代了下列写法    bigSum() &#123;      return this.$store.getters.bigSum    &#125;&#125;,</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>mapActions方法：</strong>用于帮助我们生成与<code>actions</code>对话的方法，即：包含<code>$store.dispatch(xxx)</code>的函数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">methods</span>:&#123;    <span class="comment">//靠mapActions生成：incrementOdd、incrementWait（对象形式）    ...mapActions(&#123;incrementOdd:&#x27;jiaOdd&#x27;,incrementWait:&#x27;jiaWait&#x27;&#125;)        //取代了下列写法    incrementOdd() &#123;      this.$store.dispatch(&#x27;odd&#x27;, this.n)    &#125;,    incrementWait() &#123;      this.$store.dispatch(&#x27;wait&#x27;, this.n)    &#125;    //靠mapActions生成：incrementOdd、incrementWait（数组形式）    ...mapActions([&#x27;jiaOdd&#x27;,&#x27;jiaWait&#x27;])&#125;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>mapMutations方法：</strong>用于帮助我们生成与<code>mutations</code>对话的方法，即：包含<code>$store.commit(xxx)</code>的函数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">methods</span>:&#123;    <span class="comment">//靠mapActions生成：increment、decrement（对象形式）    ...mapMutations(&#123;increment:&#x27;JIA&#x27;,decrement:&#x27;JIAN&#x27;&#125;),            //取代了下列写法    increment() &#123;        this.$store.commit(&#x27;JIA&#x27;, this.n)    &#125;,    decrement() &#123;      this.$store.commit(&#x27;JIAN&#x27;, this.n)    &#125;        //靠mapMutations生成：JIA、JIAN（对象形式）    ...mapMutations([&#x27;JIA&#x27;,&#x27;JIAN&#x27;]),&#125;</span></span><br></pre></td></tr></table></figure></li>
</ol>
<blockquote>
<p>备注：<code>mapActions</code>与<code>mapMutations</code>使用时，若需要传递参数需要：在模板中绑定事件时传递好参数，否则参数是事件对象。<strong>传递参数的方式不一样。</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;increment(n)&quot;</span>&gt;</span>+<span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;decrement(n)&quot;</span>&gt;</span>-<span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;incrementOdd(n)&quot;</span>&gt;</span>当前求和为奇数再加<span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;incrementWait(n)&quot;</span>&gt;</span>等一等再加<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="7-模块化-命名空间"><a href="#7-模块化-命名空间" class="headerlink" title="7.模块化+命名空间"></a>7.模块化+命名空间</h3><ol>
<li><p>目的：让代码更好维护，让多种数据分类更加明确。</p>
</li>
<li><p>修改<code>store.js</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> countAbout = &#123;  <span class="attr">namespaced</span>:<span class="literal">true</span>,<span class="comment">//开启命名空间  state:&#123;x:1&#125;,  mutations: &#123; ... &#125;,  actions: &#123; ... &#125;,  getters: &#123;    bigSum(state)&#123;       return state.sum * 10    &#125;  &#125;&#125;const personAbout = &#123;  namespaced:true,//开启命名空间  state:&#123; ... &#125;,  mutations: &#123; ... &#125;,  actions: &#123; ... &#125;&#125;const store = new Vuex.Store(&#123;  modules: &#123;    countAbout,    personAbout  &#125;&#125;)</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>开启命名空间后，组件中读取state数据：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//方式一：自己直接读取this.$store.state.personAbout.list//方式二：借助mapState读取：...mapState(&#x27;countAbout&#x27;,[&#x27;sum&#x27;,&#x27;sc0 hool&#x27;,&#x27;subject&#x27;]),</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>开启命名空间后，组件中读取getters数据：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//方式一：自己直接读取this.$store.getters[&#x27;personAbout/firstPersonName&#x27;]//方式二：借助mapGetters读取：...mapGetters(&#x27;countAbout&#x27;,[&#x27;bigSum&#x27;])</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>开启命名空间后，组件中调用dispatch</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//方式一：自己直接dispatchthis.$store.dispatch(&#x27;personAbout/addPersonWang&#x27;,person)//方式二：借助mapActions：...mapActions(&#x27;countAbout&#x27;,&#123;incrementOdd:&#x27;jiaOdd&#x27;,incrementWait:&#x27;jiaWait&#x27;&#125;)</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>开启命名空间后，组件中调用commit</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//方式一：自己直接committhis.$store.commit(&#x27;personAbout/ADD_PERSON&#x27;,person)//方式二：借助mapMutations：...mapMutations(&#x27;countAbout&#x27;,&#123;increment:&#x27;JIA&#x27;,decrement:&#x27;JIAN&#x27;&#125;),</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="第四章、路由-Vue-router"><a href="#第四章、路由-Vue-router" class="headerlink" title="第四章、路由(Vue-router)"></a>第四章、路由(Vue-router)</h2><ol>
<li>理解： 一个路由（route）就是一组映射关系（key - value），多个路由需要路由器（router）进行管理。</li>
<li>前端路由：key是路径，value是组件。</li>
</ol>
<h3 id="1-基本使用"><a href="#1-基本使用" class="headerlink" title="1.基本使用"></a>1.基本使用</h3><ol>
<li><p>安装<code>vue-router</code>，命令：<code>npm i vue-router</code></p>
</li>
<li><p>应用插件：<code>Vue.use(VueRouter)</code></p>
<p><code>main.js</code>中</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span><span class="keyword">import</span> <span class="title class_">VueRouter</span> <span class="keyword">from</span> <span class="string">&quot;vue-router&quot;</span><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;./router&#x27;</span><span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span><span class="comment">//使用插件Vue.use(VueRouter)const vm = new Vue(&#123;  render: h =&gt; h(App),  router&#125;).$mount(&#x27;#app&#x27;)</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>编写router配置项：在<code>router/index.js</code>中编写</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//引入VueRouterimport VueRouter from &#x27;vue-router&#x27;//引入Luyou 组件import About from &#x27;../components/About&#x27;import Home from &#x27;../components/Home&#x27;//创建router实例对象，去管理一组一组的路由规则const router = new VueRouter(&#123;	routes:[		&#123;			path:&#x27;/about&#x27;,			component:About		&#125;,		&#123;			path:&#x27;/home&#x27;,			component:Home		&#125;	]&#125;)//暴露routerexport default router</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>实现切换（active-class可配置高亮样式）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;router-link active-class=&quot;active&quot; to=&quot;/about&quot;&gt;About&lt;/router-link&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>指定展示位置</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;router-view&gt;&lt;/router-view&gt;</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="2-几个注意点"><a href="#2-几个注意点" class="headerlink" title="2.几个注意点"></a>2.几个注意点</h3><ol>
<li><strong>路由组件</strong>通常存放在<code>pages</code>文件夹，<strong>一般组件</strong>通常存放在<code>components</code>文件夹。</li>
<li>通过<strong>切换</strong>，“隐藏”了的路由组件，默认是<strong>被销毁</strong>掉的，需要的时候再去挂载。</li>
<li>每个组件都有自己的<code>$route</code>属性，里面<strong>存储着自己的路由信息</strong>。</li>
<li><strong>整个应用只有一个router</strong>，可以通过组件的<code>$router</code>属性获取到。</li>
</ol>
<blockquote>
<p><code>$route</code>：一般为获取的路由信息</p>
<ol>
<li><strong>fullPath</strong>: “&#x2F;home”</li>
<li><strong>hash</strong>: “”</li>
<li><strong>matched</strong>: [{…}]</li>
<li><strong>meta</strong>: {} 路由元信息：书写自己定义的信息</li>
<li><strong>name</strong>: undefined</li>
<li><strong>params</strong>: {}</li>
<li><strong>path</strong>: “&#x2F;home”</li>
<li><strong>query</strong>: {}</li>
</ol>
<p><code>$router</code>：</p>
<ol>
<li><p><strong>afterHooks</strong>: []</p>
</li>
<li><p><strong>app</strong>: Vue {_uid: 0, _isVue: true, $options: {…}, _renderProxy: Proxy, _self: Vue, …}</p>
</li>
<li><p><strong>apps</strong>: [Vue]</p>
</li>
<li><p><strong>beforeHooks</strong>: []</p>
</li>
<li><p><strong>fallback</strong>: false</p>
</li>
<li><p><strong>history</strong>: HashHistory {router: VueRouter, base: ‘’, current: {…}, pending: null, ready: true, …}</p>
</li>
<li><p><strong>matcher</strong>: {match: <em>ƒ</em>, addRoute: <em>ƒ</em>, getRoutes: <em>ƒ</em>, addRoutes: <em>ƒ</em>}</p>
</li>
<li><p><strong>mode</strong>: “hash”</p>
</li>
<li><p><strong>options</strong>: {routes: Array(4)}</p>
</li>
<li><p><strong>resolveHooks</strong>: []</p>
</li>
<li><p>currentRoute: Object  <code>$route</code></p>
</li>
<li><ol>
<li><strong>fullPath</strong>: “&#x2F;home”</li>
<li><strong>hash</strong>: “”</li>
<li><strong>matched</strong>: [{…}]</li>
<li><strong>meta</strong>: {}</li>
<li><strong>name</strong>: undefined</li>
<li><strong>params</strong>: {}</li>
<li><strong>path</strong>: “&#x2F;home”</li>
<li><strong>query</strong>: {}</li>
</ol>
</li>
</ol>
</blockquote>
<h3 id="3-多级路由（多级路由）"><a href="#3-多级路由（多级路由）" class="headerlink" title="3.多级路由（多级路由）"></a>3.多级路由（多级路由）</h3><ol>
<li><p>配置路由规则，使用<code>children</code>配置项：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">routes</span>:[	&#123;		<span class="attr">path</span>:<span class="string">&#x27;/about&#x27;</span>,		<span class="attr">component</span>:<span class="title class_">About</span>,	&#125;,	&#123;		<span class="attr">path</span>:<span class="string">&#x27;/home&#x27;</span>,		<span class="attr">component</span>:<span class="title class_">Home</span>,		<span class="attr">children</span>:[ <span class="comment">//通过children配置子级路由			&#123;				path:&#x27;news&#x27;, //此处一定不要写：/news				component:News			&#125;,			&#123;				path:&#x27;message&#x27;,//此处一定不要写：/message				component:Message			&#125;		]	&#125;]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>跳转（要写完整路径）：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;router-link to=&quot;/home/news&quot;&gt;News&lt;/router-link&gt;</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="4-路由的query参数"><a href="#4-路由的query参数" class="headerlink" title="4.路由的query参数"></a>4.路由的query参数</h3><ol>
<li><p>传递参数</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 跳转并携带query参数，to的字符串写法 --&gt;&lt;router-link :to=&quot;/home/message/detail?id=666&amp;title=你好&quot;&gt;跳转&lt;/router-link&gt;				&lt;!-- 跳转并携带query参数，to的对象写法 --&gt;&lt;router-link 	:to=&quot;&#123;		path:&#x27;/home/message/detail&#x27;,		query:&#123;		   id:666,            title:&#x27;你好&#x27;		&#125;	&#125;&quot;&gt;跳转&lt;/router-link&gt;&lt;!-- 跳转并携带query参数，to的字符串写法 使用es6特性--&gt;&lt;router-link :to=&quot;`/home/message/detail?id=$&#123;msg.id&#125;&amp;title=$&#123;msg.title&#125;`&quot;&gt;消息&#123;&#123;index+1&#125;&#125;&lt;/router-link&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>接收参数：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$route.<span class="property">query</span>.<span class="property">id$route</span>.<span class="property">query</span>.<span class="property">title</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="5-命名路由"><a href="#5-命名路由" class="headerlink" title="5.命名路由"></a>5.命名路由</h3><ol>
<li><p>作用：可以简化路由的跳转。<strong>在多级路由嵌套时可以使用。</strong></p>
</li>
<li><p>如何使用</p>
<ol>
<li><p>给路由命名：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;	<span class="attr">path</span>:<span class="string">&#x27;/demo&#x27;</span>,	<span class="attr">component</span>:<span class="title class_">Demo</span>,	<span class="attr">children</span>:[		&#123;			<span class="attr">path</span>:<span class="string">&#x27;test&#x27;</span>,			<span class="attr">component</span>:<span class="title class_">Test</span>,			<span class="attr">children</span>:[				&#123;                    <span class="attr">name</span>:<span class="string">&#x27;hello&#x27;</span> <span class="comment">//给路由命名					path:&#x27;welcome&#x27;,					component:Hello,				&#125;			]		&#125;	]&#125;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>简化跳转：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--简化前，需要写完整的路径 --&gt;&lt;router-link to=&quot;/demo/test/welcome&quot;&gt;跳转&lt;/router-link&gt;&lt;!--简化后，直接通过名字跳转 --&gt;&lt;router-link :to=&quot;&#123;name:&#x27;hello&#x27;&#125;&quot;&gt;跳转&lt;/router-link&gt;&lt;!--简化写法配合传递参数 --&gt;&lt;router-link 	:to=&quot;&#123;		name:&#x27;hello&#x27;,		query:&#123;		   id:666,           title:&#x27;你好&#x27;		&#125;	&#125;&quot;&gt;跳转&lt;/router-link&gt;</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ol>
<h3 id="6-路由的params参数"><a href="#6-路由的params参数" class="headerlink" title="6.路由的params参数"></a>6.路由的params参数</h3><ol>
<li><p>配置路由，声明接收params参数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;	<span class="attr">path</span>:<span class="string">&#x27;/home&#x27;</span>,	<span class="attr">component</span>:<span class="title class_">Home</span>,	<span class="attr">children</span>:[		&#123;			<span class="attr">path</span>:<span class="string">&#x27;news&#x27;</span>,			<span class="attr">component</span>:<span class="title class_">News</span>		&#125;,		&#123;			<span class="attr">component</span>:<span class="title class_">Message</span>,			<span class="attr">children</span>:[				&#123;					<span class="attr">name</span>:<span class="string">&#x27;xiangqing&#x27;</span>,					<span class="attr">path</span>:<span class="string">&#x27;detail/:id/:title&#x27;</span>, <span class="comment">//使用占位符声明接收params参数					component:Detail				&#125;			]		&#125;	]&#125;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>传递参数</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 跳转并携带params参数，to的字符串写法 --&gt;&lt;router-link :to=&quot;/home/message/detail/666/你好&quot;&gt;跳转&lt;/router-link&gt;				&lt;!-- 跳转并携带params参数，to的对象写法 --&gt;&lt;router-link 	:to=&quot;&#123;		name:&#x27;xiangqing&#x27;,		params:&#123;		   id:666,           title:&#x27;你好&#x27;		&#125;	&#125;&quot;&gt;跳转&lt;/router-link&gt;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>特别注意：路由携带<code>params</code>参数时，若使用to的对象写法，则<strong>不能使用</strong><code>path</code>配置项，<strong>必须使用</strong><code>name</code>配置！</p>
</blockquote>
</li>
<li><p>接收参数：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$route.<span class="property">params</span>.<span class="property">id$route</span>.<span class="property">params</span>.<span class="property">title</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="7-路由的props配置"><a href="#7-路由的props配置" class="headerlink" title="7.路由的props配置"></a>7.路由的props配置</h3><p>​    作用：让路由组件更方便的收到参数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;	<span class="attr">name</span>:<span class="string">&#x27;xiangqing&#x27;</span>,	<span class="attr">path</span>:<span class="string">&#x27;detail/:id&#x27;</span>,	<span class="attr">component</span>:<span class="title class_">Detail</span>,	<span class="comment">//第一种写法：props值为对象，该对象中所有的key-value的组合最终都会通过props传给Detail组件	// props:&#123;a:900&#125;	//第二种写法：props值为布尔值，布尔值为true，则把路由收到的所有params参数通过props传给Detail组件    //params	// props:true		//第三种写法：props值为函数，该函数返回的对象中每一组key-value都会通过props传给Detail组件    //query	props(route)&#123;		return &#123;			id:route.query.id,			title:route.query.title		&#125;	&#125;&#125;</span></span><br></pre></td></tr></table></figure>





<h3 id="8-lt-router-link-gt-的replace属性-声明式路由导航"><a href="#8-lt-router-link-gt-的replace属性-声明式路由导航" class="headerlink" title="8.&lt;router-link&gt;的replace属性 声明式路由导航"></a>8.<code>&lt;router-link&gt;</code>的replace属性 声明式路由导航</h3><ol>
<li>作用：控制路由跳转时操作浏览器历史记录的模式</li>
<li>浏览器的历史记录有两种写入方式：分别为<code>push</code>和<code>replace</code>，<code>push</code>是追加历史记录，<code>replace</code>是<strong>替换当前记录</strong>。路由跳转时候默认为<code>push</code>。</li>
<li>如何开启<code>replace</code>模式：<code>&lt;router-link replace .......&gt;News&lt;/router-</code></li>
<li><code>link&gt;</code></li>
</ol>
<h3 id="9-编程式路由导航"><a href="#9-编程式路由导航" class="headerlink" title="9.编程式路由导航"></a>9.编程式路由导航</h3><ol>
<li><p>作用：不借助<code>&lt;router-link&gt; </code>实现路由跳转，让路由跳转更加灵活</p>
</li>
<li><p>具体编码：<strong>直接写路径也行</strong> 如<code>‘/home’</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//$router的两个APIthis.$router.push(&#123;	name:&#x27;xiangqing&#x27;,		params:&#123;			id:xxx,			title:xxx		&#125;&#125;)this.$router.replace(&#123;	name:&#x27;xiangqing&#x27;,		params:&#123;			id:xxx,			title:xxx		&#125;&#125;)this.$router.forward() //前进this.$router.back() //后退this.$router.go(param) //可前进也可后退，参数为正数则往前，反之则往后</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="10-缓存路由组件"><a href="#10-缓存路由组件" class="headerlink" title="10.缓存路由组件"></a>10.缓存路由组件</h3><ol>
<li><p>作用：让不展示的路由组件保持挂载，不被销毁。（路由切换时会被销毁    ）</p>
</li>
<li><p>具体编码：<strong>使用组件名</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">//只是不销毁News组件&lt;keep-alive include=&quot;News&quot;&gt;     &lt;router-view&gt;&lt;/router-view&gt;&lt;/keep-alive&gt;//直接这样写则所有组件都不会被销毁&lt;keep-alive&gt;    &lt;router-view&gt;&lt;/router-view&gt;&lt;/keep-alive&gt;//不销毁d&lt;keep-alive :include=&quot;[&#x27;News&#x27;, &#x27;Message&#x27;]&quot;&gt;    &lt;router-view&gt;&lt;/router-view&gt;&lt;/keep-alive&gt;</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="11-两个新的生命周期钩子"><a href="#11-两个新的生命周期钩子" class="headerlink" title="11.两个新的生命周期钩子"></a>11.两个新的生命周期钩子</h3><ol>
<li>作用：路由组件所独有的两个钩子，用于捕获路由组件的激活状态。</li>
<li>具体名字：<ol>
<li><code>activated</code>路由组件被激活时触发。</li>
<li><code>deactivated</code>路由组件失活时触发。</li>
</ol>
</li>
</ol>
<h3 id="12-路由守卫"><a href="#12-路由守卫" class="headerlink" title="12.路由守卫"></a>12.路由守卫</h3><ol>
<li><p>作用：对路由进行权限控制</p>
</li>
<li><p>分类：全局守卫、独享守卫、组件内守卫</p>
</li>
<li><p>全局守卫:</p>
<p>在需要被校验的路由配置中加上</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">meta</span>: &#123;    <span class="attr">isAuth</span>: <span class="literal">true</span>&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//全局前置守卫：初始化时执行、每次路由切换前执行router.beforeEach((to,from,next)=&gt;&#123;	console.log(&#x27;beforeEach&#x27;,to,from)	if(to.meta.isAuth)&#123; //判断当前路由是否需要进行权限控制		if(localStorage.getItem(&#x27;school&#x27;) === &#x27;atguigu&#x27;)&#123; //权限控制的具体规则			next() //放行            next(&#x27;/login&#x27;) //放行到指定路由            next(false) //c		&#125;else&#123;			alert(&#x27;暂无权限查看&#x27;)			// next(&#123;name:&#x27;guanyu&#x27;&#125;)		&#125;	&#125;else&#123;		next() //放行	&#125;&#125;)//全局后置守卫：初始化时执行、每次路由切换后执行router.afterEach((to,from)=&gt;&#123;	console.log(&#x27;afterEach&#x27;,to,from)	if(to.meta.title)&#123; 		document.title = to.meta.title //修改网页的title	&#125;else&#123;		document.title = &#x27;vue_test&#x27;	&#125;&#125;)</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>独享守卫：<code>只有前置，没有后置</code></p>
<blockquote>
<p>直接写在路由配置中.</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">beforeEnter</span>(<span class="params">to,<span class="keyword">from</span>,next</span>)&#123;	<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;beforeEnter&#x27;</span>,to,<span class="keyword">from</span>)	<span class="keyword">if</span>(to.<span class="property">meta</span>.<span class="property">isAuth</span>)&#123; <span class="comment">//判断当前路由是否需要进行权限控制		if(localStorage.getItem(&#x27;school&#x27;) === &#x27;atguigu&#x27;)&#123;			next()		&#125;else&#123;			alert(&#x27;暂无权限查看&#x27;)			// next(&#123;name:&#x27;guanyu&#x27;&#125;)		&#125;	&#125;else&#123;		next()	&#125;&#125;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>组件内守卫：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//进入守卫：通过路由规则，进入该组件时被调用 比如：从/home进入/home/aboutbeforeRouteEnter (to, from, next) &#123;&#125;,//离开守卫：通过路由规则，离开该组件时被调用 比如：从/home/about进入/test，即离开about组件beforeRouteLeave (to, from, next) &#123;&#125;</span></span><br></pre></td></tr></table></figure></li>
</ol>
<blockquote>
<p>全局守卫和独享守卫都是写在<code>router/index.js</code>中；而组件内守卫则写在对应组件内。</p>
<p>next(false)：表示从哪来回哪去</p>
</blockquote>
<h3 id="13-路由器的两种工作模式"><a href="#13-路由器的两种工作模式" class="headerlink" title="13.路由器的两种工作模式"></a>13.路由器的两种工作模式</h3><ol>
<li><p>对于一个url来说，什么是hash值？—— <code>#</code>及其后面的内容就是<code>hash</code>值。</p>
</li>
<li><p>hash值不会包含在 HTTP 请求中，即：<strong>hash值不会带给服务器</strong>。</p>
</li>
<li><p><code>hash</code>模式：</p>
<ol>
<li>地址中永远带着<code>#</code>号，不美观 。</li>
<li>若以后将地址通过第三方手机app分享，若app校验严格，则地址会被标记为不合法。</li>
<li>兼容性较好。</li>
</ol>
</li>
<li><p><code>history</code>模式：</p>
<ol>
<li>地址干净，美观 。</li>
<li>兼容性和hash模式相比略差。</li>
<li>应用部署上线时需要后端人员支持，解决刷新页面服务端404的问题。</li>
</ol>
</li>
</ol>
<h3 id="14-滚动行为"><a href="#14-滚动行为" class="headerlink" title="14.滚动行为"></a>14.滚动行为</h3><p>使用前端路由，当切换到新路由时，想要页面滚到顶部，或者是保持原先的滚动位置，就像重新加载页面那样。 </p>
<p>在配置路由时：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;  <span class="attr">routes</span>: [...],  scrollBehavior (to, <span class="keyword">from</span>, savedPosition) &#123;    <span class="comment">// return 期望滚动到哪个的位置  &#125;&#125;)</span></span><br></pre></td></tr></table></figure>

<p><code>scrollBehavior</code> 方法接收 <code>to</code> 和 <code>from</code> 路由对象。第三个参数 <code>savedPosition</code> 当且仅当 <code>popstate</code> 导航 (通过浏览器的 前进&#x2F;后退 按钮触发) 时才可用。</p>
<p>这个方法返回滚动位置的对象信息，长这样：</p>
<ul>
<li><code>&#123; x: number, y: number &#125;</code></li>
<li><code>&#123; selector: string, offset? : &#123; x: number, y: number &#125;&#125;</code> (offset 只在 2.6.0+ 支持)</li>
</ul>
<p>如果返回一个 falsy (译者注：falsy 不是 <code>false</code>，<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Glossary/Falsy">参考这里 (opens new window)</a>)的值，或者是一个空对象，那么不会发生滚动。</p>
<p>举例：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scrollBehavior (to, <span class="keyword">from</span>, savedPosition) &#123;  <span class="keyword">return</span> &#123; <span class="attr">x</span>: <span class="number">0</span>, <span class="attr">y</span>: <span class="number">0</span> &#125;&#125;</span><br></pre></td></tr></table></figure>

<p>对于所有路由导航，简单地让页面滚动到顶部。</p>
<h2 id="第五章、VUE-UI组件库"><a href="#第五章、VUE-UI组件库" class="headerlink" title="第五章、VUE UI组件库"></a>第五章、VUE UI组件库</h2><p> <a target="_blank" rel="noopener" href="https://element.eleme.cn/#/zh-CN">Element - 网站快速成型工具</a> pc端</p>
<p>vant[移动端]</p>
<p>全部引入：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ElementUIimport ElementUI from &#x27;element-ui&#x27;;import &#x27;element-ui/lib/theme-chalk/index.css&#x27;;Vue.use(ElementUI)</span></span><br></pre></td></tr></table></figure>

<h3 id="5-1-按需引入"><a href="#5-1-按需引入" class="headerlink" title="5.1 按需引入"></a>5.1 按需引入</h3><p>借助 <a target="_blank" rel="noopener" href="https://github.com/QingWei-Li/babel-plugin-component">babel-plugin-component</a>，我们可以只引入需要的组件，以达到减小项目体积的目的。</p>
<p>首先，安装 babel-plugin-component：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install babel-plugin-component -D</span><br></pre></td></tr></table></figure>

<p>然后，将 .babelrc 修改为：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span>  <span class="attr">&quot;presets&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">[</span><span class="string">&quot;es2015&quot;</span><span class="punctuation">,</span> <span class="punctuation">&#123;</span> <span class="attr">&quot;modules&quot;</span><span class="punctuation">:</span> <span class="keyword">false</span> <span class="punctuation">&#125;</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="punctuation">,</span>  <span class="attr">&quot;plugins&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span>    <span class="punctuation">[</span>      <span class="string">&quot;component&quot;</span><span class="punctuation">,</span>      <span class="punctuation">&#123;</span>        <span class="attr">&quot;libraryName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;element-ui&quot;</span><span class="punctuation">,</span>        <span class="attr">&quot;styleLibraryName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;theme-chalk&quot;</span>      <span class="punctuation">&#125;</span>    <span class="punctuation">]</span>  <span class="punctuation">]</span><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>接下来，如果你只希望引入部分组件，比如 Button 和 Select，那么需要在 main.js 中写入以下内容：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span>;<span class="keyword">import</span> &#123; <span class="title class_">Button</span>, <span class="title class_">Select</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;element-ui&#x27;</span>;<span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span>;<span class="title class_">Vue</span>.<span class="title function_">component</span>(<span class="title class_">Button</span>.<span class="property">name</span>, <span class="title class_">Button</span>);<span class="title class_">Vue</span>.<span class="title function_">component</span>(<span class="title class_">Select</span>.<span class="property">name</span>, <span class="title class_">Select</span>);<span class="comment">/* 或写为 * Vue.use(Button) * Vue.use(Select) */</span><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;  <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,  <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>)&#125;);</span><br></pre></td></tr></table></figure>















<h2 id="第六章、组件间通信高级"><a href="#第六章、组件间通信高级" class="headerlink" title="第六章、组件间通信高级"></a>第六章、组件间通信高级</h2><h3 id="v-model"><a href="#v-model" class="headerlink" title="v-model"></a>v-model</h3><p><code>v-model</code> 实现父子组件间通信：</p>
<p>子组件中，</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">:value</span>=<span class="string">&quot;value&quot;</span> @<span class="attr">input</span>=<span class="string">&quot;$emit(&#x27;input&#x27;, $event.target.value)&quot;</span>       <span class="attr">props:</span> [&#x27;<span class="attr">value</span>&#x27;]</span></span><br></pre></td></tr></table></figure>

<p>父组件中：</p>
<p>相当于给子组件绑定了一个名为 input 的自定义事件，并传递了一个名为 value 的 props 参数。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Zi</span> <span class="attr">v-model</span>=<span class="string">&quot;msg&quot;</span>/&gt;</span>等于<span class="tag">&lt;<span class="name">Zi</span> <span class="attr">:value</span>=<span class="string">&quot;msg&quot;</span> @<span class="attr">input</span>=<span class="string">&quot;msg = $event&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>



<h3 id="sync"><a href="#sync" class="headerlink" title="sync"></a>sync</h3><p> <code>sync</code> 实现父子组件间通信：</p>
<p>父组件中：</p>
<p>相当于父组件给子组件传递了 props 参数 <code>money</code>；<br>并且绑定了自定义事件，名称为 <code>update:money</code></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Child</span> <span class="attr">:money.sync</span>=<span class="string">&quot;money&quot;</span>/&gt;</span>data() &#123;	return &#123;		money: 100	&#125;&#125;相当于<span class="tag">&lt;<span class="name">Child</span> <span class="attr">:money</span>=<span class="string">&quot;money&quot;</span> @<span class="attr">update:money</span>=<span class="string">&quot;money = $event&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">Child</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>子组件中：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">props: [&#x27;money&#x27;]<span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;$emit(&#x27;update:money&#x27;, money - 100)&quot;</span>&gt;</span>    &#123;&#123;money&#125;&#125;<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>





<h3 id="vm-attrs"><a href="#vm-attrs" class="headerlink" title="vm.$attrs"></a><a target="_blank" rel="noopener" href="https://cn.vuejs.org/v2/api/#vm-attrs">vm.$attrs</a></h3><ul>
<li><p><strong>详细</strong>：</p>
<p>包含了父作用域中不作为 props 被识别的属性。</p>
<p>当一个组件没有声明任何 prop 时，这里会包含所有父作用域的绑定，并且可以通过 <code>v-bind=&quot;$attrs&quot;</code> 传入内部组件——在创建高级别的组件时非常有用。</p>
</li>
</ul>
<blockquote>
<p>即获取父组件传递过来的<strong>所有没有被 props 接收</strong>的属性。</p>
</blockquote>
<h3 id="vm-listeners"><a href="#vm-listeners" class="headerlink" title="vm.$listeners"></a><a target="_blank" rel="noopener" href="https://cn.vuejs.org/v2/api/#vm-listeners">vm.$listeners</a></h3><ul>
<li><p><strong>详细</strong>：</p>
<p>包含了父作用域中的 (不含 <code>.native</code> 修饰器的) <code>v-on</code> 事件监听器。</p>
<p>它可以通过 <code>v-on=&quot;$listeners&quot;</code> 传入内部组件——在创建更高层次的组件时非常有用。</p>
</li>
</ul>
<blockquote>
<p>即获取父组件传递过来的<strong>所有没有被接收</strong>的自定义事件。</p>
</blockquote>
<blockquote>
<p>注意：此处的 <code>v-bind</code> 和 <code>v-on</code> 都不能被 <code>:</code> 和 <code>@</code> 替换。</p>
</blockquote>
<h3 id="vm-children"><a href="#vm-children" class="headerlink" title="vm.$children"></a><a target="_blank" rel="noopener" href="https://cn.vuejs.org/v2/api/#vm-children">vm.$children</a></h3><ul>
<li><p><strong>类型</strong>：<code>Array&lt;Vue instance&gt;</code></p>
</li>
<li><p><strong>详细</strong>：</p>
<p>获取到当前实例的直接子组件。</p>
<p>也可以通过给子组件绑定ref属性，然后使用 <code>this.$refs.xxx</code> 获取到子组件。</p>
<p><strong>需要注意 <code>$children</code> 并不保证顺序，也不是响应式的。</strong>如果你发现自己正在尝试使用 <code>$children</code> 来进行数据绑定，考虑使用一个数组配合 <code>v-for</code> 来生成子组件，并且使用 Array 作为真正的来源。</p>
</li>
</ul>
<h3 id="vm-parent"><a href="#vm-parent" class="headerlink" title="vm.$parent"></a><a target="_blank" rel="noopener" href="https://cn.vuejs.org/v2/api/#vm-parent">vm.$parent</a></h3><ul>
<li><strong>类型</strong>：<code>Vue instance</code></li>
<li><strong>只读</strong></li>
<li><strong>详细</strong>：获取当前组件从父组件实例，如果当前有父组件的话。</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/02/11/%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2/" data-id="ckzhub5ws0000fkw533y32h71" data-title="我的第一篇博客" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Vue/" rel="tag">Vue</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-hello-world" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/02/11/hello-world/" class="article-date">
  <time class="dt-published" datetime="2022-02-11T03:10:21.513Z" itemprop="datePublished">2022-02-11</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/02/11/hello-world/">Hello World</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>Welcome to <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a target="_blank" rel="noopener" href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a target="_blank" rel="noopener" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/02/11/hello-world/" data-id="ckzhu1v9h0000pgw5fhowan7u" data-title="Hello World" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  


</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Vue/" rel="tag">Vue</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Vue/" style="font-size: 10px;">Vue</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">February 2022</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2022/02/11/%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2/">我的第一篇博客</a>
          </li>
        
          <li>
            <a href="/2022/02/11/hello-world/">Hello World</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2022 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>